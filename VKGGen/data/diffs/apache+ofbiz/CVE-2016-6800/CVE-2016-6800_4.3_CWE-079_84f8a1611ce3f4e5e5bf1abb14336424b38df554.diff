commit 84f8a1611ce3f4e5e5bf1abb14336424b38df554
Author:     Jacopo Cappellato <jacopoc@apache.org>
AuthorDate: Sat Sep 3 09:49:12 2016 +0000
Commit:     Jacopo Cappellato <jacopoc@apache.org>
CommitDate: Sat Sep 3 09:49:12 2016 +0000

    In rev. 1536324  Jacques Le Roux changed the value of the attribute allow-html from "safe" to "any" and deprecated the usage of the "safe" value.
    However the "safe" behavior is necessary to allow these fields to accept tags in a safe way: for this reason that commit should be reverted and a different solution should be implemented.
    In the meantime, this commit changes the allow-html values for the blog entries to "none".
    
    [CVE-2016-6800] Apache OFBiz blog stored XSS vulnerability
    The default configuration of the OFBiz framework offers a blog
    functionality. Different users are able to operate blogs which are
    related to specific parties. In the form field for the creation of new
    blog articles the user input of the summary field as well as the article
    field is not properly sanitized. It is possible to inject arbitrary
    JavaScript code in these form fields. This code gets executed from the
    browser of every user who is visiting this article.
    
    
    git-svn-id: https://svn.apache.org/repos/asf/ofbiz/trunk@1759065 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/applications/content/servicedef/services.xml b/applications/content/servicedef/services.xml
index f5df0b810f..2323d6bcc0 100644
--- a/applications/content/servicedef/services.xml
+++ b/applications/content/servicedef/services.xml
@@ -823,8 +823,8 @@
         <attribute name="statusId" type="String" mode="IN" optional="true"/>
         <attribute name="description" type="String" mode="IN" optional="true"/>
         <attribute name="templateDataResourceId" type="String" mode="IN" optional="true"/>
-        <attribute name="articleData" type="String" mode="IN" optional="true" allow-html="any"/>
-        <attribute name="summaryData" type="String" mode="IN" optional="true" allow-html="any"/>
+        <attribute name="articleData" type="String" mode="IN" optional="true" allow-html="none"/>
+        <attribute name="summaryData" type="String" mode="IN" optional="true" allow-html="none"/>
     </service>
     <service name="updateBlogEntry" engine="simple" auth="true"
         location="component://content/minilang/blog/BlogServices.xml" invoke="updateBlogEntry">
