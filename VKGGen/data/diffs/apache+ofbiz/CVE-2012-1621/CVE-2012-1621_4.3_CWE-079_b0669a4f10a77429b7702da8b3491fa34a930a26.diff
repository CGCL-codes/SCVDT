commit b0669a4f10a77429b7702da8b3491fa34a930a26
Author:     Scott Gray <lektran@apache.org>
AuthorDate: Thu Apr 5 18:58:15 2012 +0000
Commit:     Scott Gray <lektran@apache.org>
CommitDate: Thu Apr 5 18:58:15 2012 +0000

    Merged from trunk r1309993: CVE-2012-1621: Prevent user submitted data from being streamed directly back to the browser when the content map-key is not found.  Log a warning instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/ofbiz/branches/release10.04@1310013 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/applications/content/src/org/ofbiz/content/content/ContentWorker.java b/applications/content/src/org/ofbiz/content/content/ContentWorker.java
index b0a4a7ccc4..f0b52247f1 100644
--- a/applications/content/src/org/ofbiz/content/content/ContentWorker.java
+++ b/applications/content/src/org/ofbiz/content/content/ContentWorker.java
@@ -355,7 +355,7 @@ public class ContentWorker implements org.ofbiz.widget.ContentWorkerInterface {
 
         if (subContent == null) {
             //throw new GeneralException("No sub-content found with map-key [" + mapKey + "] for content [" + contentId + "]");
-            out.append("<!-- no sub-content found with map-key [" + mapKey + "] for content [" + contentId + "] -->");
+            Debug.logWarning("No sub-content found with map-key [" + mapKey + "] for content [" + contentId + "]", module);
         } else {
             String subContentId = subContent.getString("contentIdTo");
             templateContext.put("mapKey", mapKey);
