commit 060aab18176e0578135a1ec0843cfc69f780f88b
Author:     Scott Gray <lektran@apache.org>
AuthorDate: Fri Mar 16 11:13:04 2012 +0000
Commit:     Scott Gray <lektran@apache.org>
CommitDate: Fri Mar 16 11:13:04 2012 +0000

    Backport from trunk r1302218: CVE-2012-1621: Escape errors returned from ajax calls in the checkout pages
    
    git-svn-id: https://svn.apache.org/repos/asf/ofbiz/branches/release10.04@1301435 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/specialpurpose/ecommerce/webapp/ecommerce/images/checkoutProcess.js b/specialpurpose/ecommerce/webapp/ecommerce/images/checkoutProcess.js
index d5292ef324..d7a4125cd0 100644
--- a/specialpurpose/ecommerce/webapp/ecommerce/images/checkoutProcess.js
+++ b/specialpurpose/ecommerce/webapp/ecommerce/images/checkoutProcess.js
@@ -414,7 +414,7 @@ function addPromoCode() {
             var serverError = getServerError(data);
             if(serverError != "") {
                 Effect.Appear('cartFormServerError');
-                $('cartFormServerError').update(serverError);
+                $('cartFormServerError').update(serverError.escapeHTML());
             } else {
                 Effect.Fade('cartFormServerError');
                 updateCartData();
