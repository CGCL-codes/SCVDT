commit ed5e3a0f13f7e0db22a8c6c04f10b5d96f03cb39
Author:     Scott Gray <lektran@apache.org>
AuthorDate: Thu Apr 5 18:24:54 2012 +0000
Commit:     Scott Gray <lektran@apache.org>
CommitDate: Thu Apr 5 18:24:54 2012 +0000

    CVE-2012-1621: Prevent user submitted data from being streamed directly back to the browser when the content map-key is not found.  Log a warning instead.
    
    git-svn-id: https://svn.apache.org/repos/asf/ofbiz/trunk@1309993 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/applications/content/src/org/ofbiz/content/content/ContentWorker.java b/applications/content/src/org/ofbiz/content/content/ContentWorker.java
index 4fc6fa59b4..f67fd354bf 100644
--- a/applications/content/src/org/ofbiz/content/content/ContentWorker.java
+++ b/applications/content/src/org/ofbiz/content/content/ContentWorker.java
@@ -365,7 +365,7 @@ public class ContentWorker implements org.ofbiz.widget.ContentWorkerInterface {
 
         if (subContent == null) {
             //throw new GeneralException("No sub-content found with map-key [" + mapKey + "] for content [" + contentId + "]");
-            out.append("<!-- no sub-content found with map-key [" + mapKey + "] for content [" + contentId + "] -->");
+            Debug.logWarning("No sub-content found with map-key [" + mapKey + "] for content [" + contentId + "]", module);
         } else {
             String subContentId = subContent.getString("contentIdTo");
             templateContext.put("mapKey", mapKey);
