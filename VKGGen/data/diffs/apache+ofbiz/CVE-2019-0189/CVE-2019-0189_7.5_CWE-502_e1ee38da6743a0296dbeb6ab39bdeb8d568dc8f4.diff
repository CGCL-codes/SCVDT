commit e1ee38da6743a0296dbeb6ab39bdeb8d568dc8f4
Author:     Jacques Le Roux <jleroux@apache.org>
AuthorDate: Thu Mar 28 07:52:11 2019 +0000
Commit:     Jacques Le Roux <jleroux@apache.org>
CommitDate: Thu Mar 28 07:52:11 2019 +0000

    "Applied fix from trunk framework for revision: 1856455"
    ------------------------------------------------------------------------
    r1856455 | jleroux | 2019-03-28 08:50:32 +0100 (jeu. 28 mars 2019) | 7 lignes
    
    Improved: Improve ObjectInputStream class
    (OFBIZ-10837)
    
    Fixes CVE-2019-0189
    
    The white list was still not complete as reported by Ed Mack
    This adds all arrays of primitives and java.math.BigDecimal
    
    Thanks: Ed Mack at OFBIZ-10876
    ------------------------------------------------------------------------
    
    
    git-svn-id: https://svn.apache.org/repos/asf/ofbiz/branches/release16.11@1856458 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java b/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java
index f7875a2a23..e8b070210c 100644
--- a/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java
+++ b/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java
@@ -148,7 +148,8 @@ public final class UtilObject {
                         java.util.Arrays.asList("byte\\[\\]", "Number", "Long", "foo", "SerializationInjector",
                                 "java.util.HashMap", "Boolean", "Number", "Integer", "FlexibleStringExpander",
                                 "sun.util.calendar.ZoneInfo", "java.sql.Timestamp", "java.util.Date",
-                                "java.math.BigDecimal", "\\[B"));) {
+                                "java.math.BigDecimal", "[Z ","[B ","[S ","[I ","[J ","[F ","[D ","[C ",
+                                "org.apache.ofbiz.widget.renderer.VisualTheme"));) {
             return wois.readObject();
         }
     }
