commit da7243efab2881b739b3b222118dbc4f6e5927be
Author:     Jacques Le Roux <jleroux@apache.org>
AuthorDate: Thu Mar 28 08:31:01 2019 +0000
Commit:     Jacques Le Roux <jleroux@apache.org>
CommitDate: Thu Mar 28 08:31:01 2019 +0000

    "Applied fix from trunk framework for revision: 1856460"
    ------------------------------------------------------------------------
    r1856460 | jleroux | 2019-03-28 09:30:21 +0100 (jeu. 28 mars 2019) | 10 lignes
    
    Improved: Improve ObjectInputStream class
    (OFBIZ-10837)
    
    Fixes CVE-2019-0189
    
    There was a recurring typo in previous commit.
    For arrays of primitives it should be
    "\\[Z","\\[B","\\[S","\\[I","\\[J","\\[F","\\[D","\\[C"
    and not
    "[Z","[B","[S","[I","[J","[F","[D","[C"
    It shows how tired I'm :/
    
    ------------------------------------------------------------------------
    
    
    git-svn-id: https://svn.apache.org/repos/asf/ofbiz/branches/release16.11@1856463 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java b/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java
index e8b070210c..36baa40836 100644
--- a/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java
+++ b/framework/base/src/main/java/org/apache/ofbiz/base/util/UtilObject.java
@@ -148,7 +148,7 @@ public final class UtilObject {
                         java.util.Arrays.asList("byte\\[\\]", "Number", "Long", "foo", "SerializationInjector",
                                 "java.util.HashMap", "Boolean", "Number", "Integer", "FlexibleStringExpander",
                                 "sun.util.calendar.ZoneInfo", "java.sql.Timestamp", "java.util.Date",
-                                "java.math.BigDecimal", "[Z ","[B ","[S ","[I ","[J ","[F ","[D ","[C ",
+                                "java.math.BigDecimal", "\\[Z","\\[B","\\[S","\\[I","\\[J","\\[F","\\[D","\\[C",
                                 "org.apache.ofbiz.widget.renderer.VisualTheme"));) {
             return wois.readObject();
         }
