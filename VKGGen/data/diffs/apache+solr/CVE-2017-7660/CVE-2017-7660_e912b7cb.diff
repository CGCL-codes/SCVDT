commit e912b7cb5c68fbb87b874d41068cf5a3aea17da0
Author:     Noble Paul <noble@apache.org>
AuthorDate: Thu May 4 15:13:01 2017 +0930
Commit:     Noble Paul <noble@apache.org>
CommitDate: Thu May 4 15:13:01 2017 +0930

    added extra check if it is a liveNode

diff --git a/solr/core/src/java/org/apache/solr/security/PKIAuthenticationPlugin.java b/solr/core/src/java/org/apache/solr/security/PKIAuthenticationPlugin.java
index fcc056075c2..172659ac6bf 100644
--- a/solr/core/src/java/org/apache/solr/security/PKIAuthenticationPlugin.java
+++ b/solr/core/src/java/org/apache/solr/security/PKIAuthenticationPlugin.java
@@ -193,6 +193,7 @@ public class PKIAuthenticationPlugin extends AuthenticationPlugin implements Htt
   }
 
   PublicKey getRemotePublicKey(String nodename) {
+    if (!cores.getZkController().getZkStateReader().getClusterState().getLiveNodes().contains(nodename)) return null;
     String url = cores.getZkController().getZkStateReader().getBaseUrlForNodeName(nodename);
     try {
       String uri = url + PATH + "?wt=json&omitHeader=true";
