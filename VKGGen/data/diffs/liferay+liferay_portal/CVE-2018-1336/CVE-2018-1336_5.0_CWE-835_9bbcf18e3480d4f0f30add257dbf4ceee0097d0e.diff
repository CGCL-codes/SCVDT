commit 9bbcf18e3480d4f0f30add257dbf4ceee0097d0e
Author:     john-co <john.co@liferay.com>
AuthorDate: Tue Aug 28 16:54:33 2018 -0700
Commit:     Brian Chan <brian.chan@liferay.com>
CommitDate: Wed Aug 29 15:02:45 2018 -0700

    LPS-84443 Update tc Server from 3.2.5 to 3.2.11 due to CVE-2018-1336 DoS vulnerability

diff --git a/app.server.properties b/app.server.properties
index 96c768ca99d0..f4b83352ca16 100644
--- a/app.server.properties
+++ b/app.server.properties
@@ -151,7 +151,7 @@
 ## tc Server
 ##
 
-    app.server.tcserver.version=3.2.5
+    app.server.tcserver.version=3.2.11
     app.server.tcserver.dir=${app.server.parent.dir}/tc-server-${app.server.tcserver.version}
     app.server.tcserver.bin.dir=${app.server.tcserver.dir}/liferay/bin
     app.server.tcserver.classes.global.dir=${app.server.tcserver.dir}/liferay/lib
@@ -165,10 +165,10 @@
     app.server.tcserver.portal.context=ROOT
     app.server.tcserver.portal.dir=${app.server.tcserver.deploy.dir}/${app.server.tcserver.portal.context}
     app.server.tcserver.temp.dir=${app.server.tcserver.dir}/liferay/temp
-    app.server.tcserver.tomcat.version=8.5.13.B.RELEASE
+    app.server.tcserver.tomcat.version=8.5.32.A.RELEASE
     app.server.tcserver.work.dir=${app.server.tcserver.dir}/liferay/work
     app.server.tcserver.zip.name=pivotal-tc-server-developer-${app.server.tcserver.version}.RELEASE.zip
-    app.server.tcserver.zip.url=http://network.pivotal.io/products/pivotal-tcserver/releases/4887/file_groups/579/${app.server.tcserver.zip.name}
+    app.server.tcserver.zip.url=https://network.pivotal.io/products/pivotal-tcserver/releases/136038/${app.server.tcserver.zip.name}
 
 ##
 ## Tomcat
diff --git a/build-test.xml b/build-test.xml
index 9a39af789f66..129acee8d019 100644
--- a/build-test.xml
+++ b/build-test.xml
@@ -10268,7 +10268,7 @@ server.detector.server.id=jboss</echo>
 				<equals arg1="${app.server.type}" arg2="tcserver" />
 				<then>
 					<echo file="${liferay.home}/tools/portal-tools-db-upgrade-client/app-server.properties">dir=${app.server.dir}
-extra.lib.dirs=tomcat-8.5.13.B.RELEASE/lib
+extra.lib.dirs=tomcat-8.5.32.A.RELEASE/lib
 global.lib.dir=liferay/lib
 portal.dir=liferay/webapps/ROOT
 server.detector.server.id=tomcat</echo>
diff --git a/modules/util/portal-tools-db-upgrade-client/properties/app-server.properties b/modules/util/portal-tools-db-upgrade-client/properties/app-server.properties
index acdee6a20c24..c6889bb154b6 100644
--- a/modules/util/portal-tools-db-upgrade-client/properties/app-server.properties
+++ b/modules/util/portal-tools-db-upgrade-client/properties/app-server.properties
@@ -32,8 +32,8 @@
 ## tc Server
 ##
 
-    #dir=../../tc-server-2.9.11
-    #extra.lib.dirs=/tomcat-7.0.64.B.RELEASE/lib
+    #dir=../../tc-server-3.2.11
+    #extra.lib.dirs=/tomcat-8.5.32.A.RELEASE/lib
     #global.lib.dir=/liferay/lib
     #portal.dir=/liferay/webapps/ROOT
     #server.detector.server.id=tomcat
diff --git a/modules/util/portal-tools-db-upgrade-client/src/main/java/com/liferay/portal/tools/db/upgrade/client/AppServer.java b/modules/util/portal-tools-db-upgrade-client/src/main/java/com/liferay/portal/tools/db/upgrade/client/AppServer.java
index 0aee1dbef6fd..d67efdb8c7d8 100644
--- a/modules/util/portal-tools-db-upgrade-client/src/main/java/com/liferay/portal/tools/db/upgrade/client/AppServer.java
+++ b/modules/util/portal-tools-db-upgrade-client/src/main/java/com/liferay/portal/tools/db/upgrade/client/AppServer.java
@@ -45,7 +45,7 @@ public class AppServer {
 
 	public static AppServer getTCServerAppServer() {
 		return new AppServer(
-			"../../tc-server-2.9.11", "/tomcat-7.0.64.B.RELEASE/lib",
+			"../../tc-server-3.2.11", "/tomcat-8.5.32.A.RELEASE/lib",
 			"/liferay/lib", "/liferay/webapps/ROOT", "tomcat");
 	}
 
