commit 1b1ce375c54ae2a17da94981af4ea97687f4b698
Author:     Mark Thomas <markt@apache.org>
AuthorDate: Thu Dec 17 20:57:45 2015 +0000
Commit:     Mark Thomas <markt@apache.org>
CommitDate: Thu Dec 17 20:57:45 2015 +0000

    Don't create session unnecessarily in the Manager application.
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/trunk@1720652 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/webapps/docs/changelog.xml b/webapps/docs/changelog.xml
index e9777ed0f1..630c0f2155 100644
--- a/webapps/docs/changelog.xml
+++ b/webapps/docs/changelog.xml
@@ -244,6 +244,9 @@
       <fix>
         Correct some typos in the JNDI resources How-To. (markt)
       </fix>
+      <fix>
+        Don't create session unnecessarily in the Manager application. (markt)
+      </fix>
     </changelog>
   </subsection>
   <subsection name="Tribes">
diff --git a/webapps/manager/WEB-INF/web.xml b/webapps/manager/WEB-INF/web.xml
index 892139dad2..8297469d74 100644
--- a/webapps/manager/WEB-INF/web.xml
+++ b/webapps/manager/WEB-INF/web.xml
@@ -115,7 +115,6 @@
   <filter-mapping>
     <filter-name>CSRF</filter-name>
     <servlet-name>HTMLManager</servlet-name>
-    <servlet-name>jsp</servlet-name>
   </filter-mapping>
 
   <!-- Define a Security Constraint on this Application -->
diff --git a/webapps/manager/index.jsp b/webapps/manager/index.jsp
index d4816e5a22..ff4f47b0f9 100644
--- a/webapps/manager/index.jsp
+++ b/webapps/manager/index.jsp
@@ -14,5 +14,5 @@
   See the License for the specific language governing permissions and
   limitations under the License.
 --%>
-<% response.sendRedirect(response.encodeRedirectURL(request.getContextPath() +
-        "/html")); %>
\ No newline at end of file
+<%@ page session="false" %>
+<% response.sendRedirect(request.getContextPath() + "/html"); %>
\ No newline at end of file
