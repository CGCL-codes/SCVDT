diff --git a/java/org/apache/coyote/http11/Http11InputBuffer.java b/java/org/apache/coyote/http11/Http11InputBuffer.java
index a1ca5ca189..efdbb7444b 100644
--- a/java/org/apache/coyote/http11/Http11InputBuffer.java
+++ b/java/org/apache/coyote/http11/Http11InputBuffer.java
@@ -284,6 +284,7 @@ void nextRequest() {
         // Copy leftover bytes to the beginning of the buffer
         if (byteBuffer.remaining() > 0 && byteBuffer.position() > 0) {
             byteBuffer.compact();
+            byteBuffer.flip();
         }
         // Always reset pos to zero
         byteBuffer.limit(byteBuffer.limit() - byteBuffer.position()).position(0);
diff --git a/webapps/docs/changelog.xml b/webapps/docs/changelog.xml
index 2945c0ff03..6dcfafb2a2 100644
--- a/webapps/docs/changelog.xml
+++ b/webapps/docs/changelog.xml
@@ -87,6 +87,11 @@
         when configured with an address of <code>0.0.0.0</code> or
         <code>::</code>. (markt)
       </fix>
+      <fix>
+        Correct a regression in the refactoring to make wider use of
+        <code>ByteBuffer</code> that caused an intermittent failure in the unit
+        tests. (markt)
+      </fix>
     </changelog>
   </subsection>
   <subsection name="Web Applications">
