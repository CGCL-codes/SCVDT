commit 15fcd166ea2c1bb79e8541b8e1a43da9c452ceea
Author:     Mark Thomas <markt@apache.org>
AuthorDate: Mon Mar 11 11:33:03 2019 +0000
Commit:     Mark Thomas <markt@apache.org>
CommitDate: Tue Apr 9 18:39:46 2019 +0100

    Escape debug output to aid readability

diff --git a/java/org/apache/catalina/ssi/SSIPrintenv.java b/java/org/apache/catalina/ssi/SSIPrintenv.java
index 97470b2d69..092542fae9 100644
--- a/java/org/apache/catalina/ssi/SSIPrintenv.java
+++ b/java/org/apache/catalina/ssi/SSIPrintenv.java
@@ -41,8 +41,7 @@ public class SSIPrintenv implements SSICommand {
         } else {
             Collection<String> variableNames = ssiMediator.getVariableNames();
             for (String variableName : variableNames) {
-                String variableValue = ssiMediator
-                        .getVariableValue(variableName);
+                String variableValue = ssiMediator.getVariableValue(variableName, "entity");
                 //This shouldn't happen, since all the variable names must
                 // have values
                 if (variableValue == null) {
diff --git a/webapps/docs/changelog.xml b/webapps/docs/changelog.xml
index da228e18a9..a6a3de8861 100644
--- a/webapps/docs/changelog.xml
+++ b/webapps/docs/changelog.xml
@@ -101,6 +101,9 @@
         Tomcat used to resolve standard XML DTDs and schemas when Tomcat is
         configured to validate XML configuration files such as web.xml. (markt)
       </fix>
+      <fix>
+        Encode the output of the SSI <code>printenv</code> command. (markt)
+      </fix>
     </changelog>
   </subsection>
   <subsection name="Coyote">
