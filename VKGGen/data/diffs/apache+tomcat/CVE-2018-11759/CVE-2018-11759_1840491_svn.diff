Index: jk/trunk/native/common/jk_lb_worker.c
===================================================================
--- jk/trunk/native/common/jk_lb_worker.c	(revision 1840490)
+++ jk/trunk/native/common/jk_lb_worker.c	(revision 1840491)
@@ -431,8 +431,7 @@
 static char *get_path_param(jk_ws_service_t *s, const char *name)
 {
     char *id_start = NULL;
-    for (id_start = strstr(s->req_uri, name);
-         id_start; id_start = strstr(id_start + 1, name)) {
+    for (id_start = strstr(s->req_uri, name); id_start; id_start = strstr(id_start + 1, name)) {
         if (id_start[strlen(name)] == '=') {
             /*
              * Session path-cookie was found, get it's value
@@ -455,6 +454,12 @@
                 if ((id_end = strchr(id_start, ';')) != NULL) {
                     *id_end = '\0';
                 }
+                /*
+                 * Remove any trailing URI segments.
+                 */
+                if ((id_end = strchr(id_start, '/')) != NULL) {
+                    *id_end = '\0';
+                }
                 return id_start;
             }
         }
@@ -1766,7 +1771,7 @@
                         jk_log(l, JK_LOG_DEBUG,
                                "Balanced worker %s already configured (sequence=%d)",
                                p->lb_workers[i].name, p->lb_workers[i].s->h.sequence);
-                    }           
+                    }
                     if (!wc_create_worker(p->lb_workers[i].name, 0,
                                           props,
                                           &(p->lb_workers[i].worker),
Index: jk/trunk/xdocs/miscellaneous/changelog.xml
===================================================================
--- jk/trunk/xdocs/miscellaneous/changelog.xml	(revision 1840490)
+++ jk/trunk/xdocs/miscellaneous/changelog.xml	(revision 1840491)
@@ -52,6 +52,15 @@
         Apache: Update the documentation to note additional limitations of the
         JkAutoAlias directive. (markt)
       </update>
+      <scode>
+        Common: Optimize path parameter handling. (rjung)
+      </scode>
+      <fix>
+        Improve path parameter parsing so that the session ID specified by the
+        <code>session_path</code> worker property for load-balanced workers can
+        be extracted from a path parameter in any segment of the URI, rather
+        than only from the final segment. (markt)
+      </fix>
     </changelog>
   </subsection>
 </section>
