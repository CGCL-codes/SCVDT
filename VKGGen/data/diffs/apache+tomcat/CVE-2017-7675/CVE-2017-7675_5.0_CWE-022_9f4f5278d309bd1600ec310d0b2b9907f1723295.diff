commit 9f4f5278d309bd1600ec310d0b2b9907f1723295
Author:     Mark Thomas <markt@apache.org>
AuthorDate: Fri Aug 11 07:07:25 2017 +0000
Commit:     Mark Thomas <markt@apache.org>
CommitDate: Fri Aug 11 07:07:25 2017 +0000

    Now CVE-2017-7675 is public, make the comment more specific
    
    git-svn-id: https://svn.apache.org/repos/asf/tomcat/tc8.5.x/trunk@1804755 13f79535-47bb-0310-9956-ffa450edef68

diff --git a/java/org/apache/coyote/http2/Stream.java b/java/org/apache/coyote/http2/Stream.java
index bff9f635d8..69250745f3 100644
--- a/java/org/apache/coyote/http2/Stream.java
+++ b/java/org/apache/coyote/http2/Stream.java
@@ -317,8 +317,10 @@ public class Stream extends AbstractStream implements HeaderEmitter {
                 String query = value.substring(queryStart + 1);
                 coyoteRequest.queryString().setString(query);
             }
-            // Bug 61120. Set the URI as bytes rather than String so any path
-            // parameters are correctly processed
+            // Bug 61120. Set the URI as bytes rather than String so:
+            // - any path parameters are correctly processed
+            // - the normalization security checks are performed that prevent
+            //   directory traversal attacks
             byte[] uriBytes = uri.getBytes(StandardCharsets.ISO_8859_1);
             coyoteRequest.requestURI().setBytes(uriBytes, 0, uriBytes.length);
             break;
