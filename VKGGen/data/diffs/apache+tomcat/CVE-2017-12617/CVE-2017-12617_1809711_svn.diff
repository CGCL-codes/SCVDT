Index: trunk/java/org/apache/catalina/webresources/AbstractFileResourceSet.java
===================================================================
--- trunk/java/org/apache/catalina/webresources/AbstractFileResourceSet.java	(revision 1809710)
+++ trunk/java/org/apache/catalina/webresources/AbstractFileResourceSet.java	(revision 1809711)
@@ -136,12 +136,12 @@
 
 
     private boolean isInvalidWindowsFilename(String name) {
-        if (name.length() == 0) {
+        final int len = name.length();
+        if (len == 0) {
             return false;
         }
         // This consistently ~10 times faster than the equivalent regular
         // expression irrespective of input length.
-        final int len = name.length();
         for (int i = 0; i < len; i++) {
             char c = name.charAt(i);
             if (c == '\"' || c == '<' || c == '>') {
