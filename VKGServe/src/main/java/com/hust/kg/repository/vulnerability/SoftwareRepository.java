package com.hust.kg.repository.vulnerability;

import com.hust.kg.entity.vulnerability.Software;
import org.springframework.data.neo4j.repository.query.Query;
import org.springframework.data.repository.Repository;
import org.springframework.data.repository.query.Param;

import java.util.List;

/**
 * @Author wk
 * @Date 2021/03/28 20:47
 * @Description:
 */
public interface SoftwareRepository extends Repository<Software, Long> {
    @Query("match (n:Software) where n.software_name=$name return n")
    List<Software> findSoftwareByName(@Param("name") String name);

    @Query("match (n:Software) return n limit 200")
    List<Software> findAll();

    @Query("match (n:Software) where n.software_name=~ ('.*'+$software+'.*') return n")
    List<Software> fuzzyFindSoftware(@Param("software")String software);
}
