diff -r 9bd1aecf586b -r b18762d91f3f dom/file/FileReader.cpp
--- a/dom/file/FileReader.cpp	Sun Jun 11 09:20:20 2017 -0400
+++ b/dom/file/FileReader.cpp	Fri Jun 09 15:56:35 2017 -0700
@@ -480,8 +480,8 @@
     }
   }
 
-  nsDependentCSubstring data(aFileData, aDataLen);
-  return nsContentUtils::ConvertStringFromEncoding(encoding, data, aResult);
+  return nsContentUtils::ConvertStringFromEncoding(
+      encoding, aFileData, aDataLen, aResult);
 }
 
 nsresult
