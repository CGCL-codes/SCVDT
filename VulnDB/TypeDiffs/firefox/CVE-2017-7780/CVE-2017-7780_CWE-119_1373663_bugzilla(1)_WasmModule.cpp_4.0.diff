diff -r 3a9784ae18a1 -r a088ee43f0f0 js/src/wasm/WasmModule.cpp
--- a/js/src/wasm/WasmModule.cpp	Wed Jun 21 15:36:41 2017 -0300
+++ b/js/src/wasm/WasmModule.cpp	Wed Jun 21 15:16:56 2017 +0200
@@ -961,8 +961,10 @@
         return false;
 
     auto globalSegment = GlobalSegment::create(metadata().globalDataLength);
-    if (!globalSegment)
+    if (!globalSegment) {
+        ReportOutOfMemory(cx);
         return false;
+    }
 
     SharedCode code(code_);
 
@@ -977,12 +979,16 @@
                                                    *bytecode_,
                                                    linkData_.linkData(Tier::Baseline),
                                                    metadata());
-            if (!codeSegment)
+            if (!codeSegment) {
+                ReportOutOfMemory(cx);
                 return false;
+            }
 
             code = js_new<Code>(Move(codeSegment), metadata());
-            if (!code)
+            if (!code) {
+                ReportOutOfMemory(cx);
                 return false;
+            }
         }
     }
 
