diff -r 1bbb50c6a494 -r c1f04200ed98 ipc/glue/Transport_posix.cpp
--- a/ipc/glue/Transport_posix.cpp	Fri Apr 10 07:09:31 2015 +0200
+++ b/ipc/glue/Transport_posix.cpp	Thu Apr 23 10:17:15 2015 +0100
@@ -25,10 +25,7 @@
 CreateTransport(ProcessHandle /*unused*/, ProcessHandle /*unused*/,
                 TransportDescriptor* aOne, TransportDescriptor* aTwo)
 {
-  // Gecko doesn't care about this random ID, and the argument to this
-  // function isn't really necessary, it can be just any random
-  // pointer value
-  wstring id = ChildProcessInfo::GenerateRandomChannelID(aOne);
+  wstring id = IPC::Channel::GenerateVerifiedChannelID(std::wstring());
   // Use MODE_SERVER to force creation of the socketpair
   Transport t(id, Transport::MODE_SERVER, nullptr);
   int fd1 = t.GetFileDescriptor();
