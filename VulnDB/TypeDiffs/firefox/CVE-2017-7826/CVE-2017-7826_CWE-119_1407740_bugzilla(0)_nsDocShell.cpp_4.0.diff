diff -r f609508b197d -r caed14a4e0c2 docshell/base/nsDocShell.cpp
--- a/docshell/base/nsDocShell.cpp	Fri Oct 20 11:02:29 2017 +0100
+++ b/docshell/base/nsDocShell.cpp	Fri Oct 20 16:11:26 2017 -0400
@@ -881,6 +881,9 @@
 {
   MOZ_ASSERT(!mObserved);
 
+  // Avoid notifying observers while we're in the dtor.
+  mIsBeingDestroyed = true;
+
   Destroy();
 
   nsCOMPtr<nsISHistoryInternal> shPrivate(do_QueryInterface(mSessionHistory));
