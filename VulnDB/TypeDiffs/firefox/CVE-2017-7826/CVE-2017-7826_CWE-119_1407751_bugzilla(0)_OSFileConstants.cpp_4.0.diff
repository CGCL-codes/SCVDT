diff -r 544de21bc060 -r 95e2671a811d dom/system/OSFileConstants.cpp
--- a/dom/system/OSFileConstants.cpp	Wed Oct 11 22:19:06 2017 -0400
+++ b/dom/system/OSFileConstants.cpp	Fri Oct 13 07:11:40 2017 +0200
@@ -346,6 +346,7 @@
 
   gInitialized = false;
   delete gPaths;
+  gPaths = nullptr;
 }
 
 
@@ -874,9 +875,7 @@
  */
 bool DefineOSFileConstants(JSContext *cx, JS::Handle<JSObject*> global)
 {
-  MOZ_ASSERT(gInitialized);
-
-  if (gPaths == nullptr) {
+  if (!gInitialized || gPaths == nullptr) {
     // If an initialization error was ignored, we may end up with
     // |gInitialized == true| but |gPaths == nullptr|. We cannot
     // |MOZ_ASSERT| this, as this would kill precompile_cache.js,
