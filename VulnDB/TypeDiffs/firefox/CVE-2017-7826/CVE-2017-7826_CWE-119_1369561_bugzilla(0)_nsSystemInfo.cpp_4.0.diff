diff -r 42c1b2dc8bac -r 0893b7f1f14a xpcom/base/nsSystemInfo.cpp
--- a/xpcom/base/nsSystemInfo.cpp	Wed Oct 11 08:45:06 2017 -0400
+++ b/xpcom/base/nsSystemInfo.cpp	Fri Sep 15 14:47:54 2017 -0700
@@ -706,7 +706,7 @@
   }
 
   nsAutoCString secondaryLibrary;
-  if (gtkver_len > 0) {
+  if (gtkver_len > 0 && gtkver_len < int(sizeof(gtkver))) {
     secondaryLibrary.Append(nsDependentCSubstring(gtkver, gtkver_len));
   }
 
