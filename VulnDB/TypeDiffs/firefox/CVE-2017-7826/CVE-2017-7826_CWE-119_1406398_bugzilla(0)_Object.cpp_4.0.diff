diff -r e4a02592d308 -r 7eac5fd072cb js/src/builtin/Object.cpp
--- a/js/src/builtin/Object.cpp	Mon Oct 23 10:43:40 2017 -0400
+++ b/js/src/builtin/Object.cpp	Thu Oct 12 09:20:07 2017 -0700
@@ -1246,9 +1246,6 @@
     RootedId id(cx);
     RootedValue key(cx);
     RootedValue value(cx);
-    RootedNativeObject nobj(cx);
-    if (obj->is<NativeObject>())
-        nobj = &obj->as<NativeObject>();
     RootedShape shape(cx);
     Rooted<PropertyDescriptor> desc(cx);
     // Step 4.
@@ -1265,7 +1262,8 @@
         }
 
         // Step 4.a.i.
-        if (nobj) {
+        if (obj->is<NativeObject>()) {
+            HandleNativeObject nobj = obj.as<NativeObject>();
             if (JSID_IS_INT(id) && nobj->containsDenseElement(JSID_TO_INT(id))) {
                 value = nobj->getDenseOrTypedArrayElement(JSID_TO_INT(id));
             } else {
