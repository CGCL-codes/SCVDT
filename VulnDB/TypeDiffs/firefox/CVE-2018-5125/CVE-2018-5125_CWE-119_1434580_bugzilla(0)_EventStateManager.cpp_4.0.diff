diff -r 0fe1f0b63fac -r 8660689b18cd dom/events/EventStateManager.cpp
--- a/dom/events/EventStateManager.cpp	Tue Jan 23 18:42:49 2018 +0900
+++ b/dom/events/EventStateManager.cpp	Fri Feb 02 13:25:26 2018 +0200
@@ -4326,9 +4326,10 @@
   // content associated with our subdocument.
   EnsureDocument(mPresContext);
   if (nsIDocument *parentDoc = mDocument->GetParentDocument()) {
-    if (nsIContent *docContent = parentDoc->FindContentForSubDocument(mDocument)) {
+    if (nsCOMPtr<nsIContent> docContent =
+          parentDoc->FindContentForSubDocument(mDocument)) {
       if (nsIPresShell *parentShell = parentDoc->GetShell()) {
-        EventStateManager* parentESM =
+        RefPtr<EventStateManager> parentESM =
           parentShell->GetPresContext()->EventStateManager();
         parentESM->NotifyMouseOver(aMouseEvent, docContent);
       }
