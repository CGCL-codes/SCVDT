diff -r 599641c7992d -r d2b6a8e0e6eb js/src/jit/VMFunctions.cpp
--- a/js/src/jit/VMFunctions.cpp	Thu Mar 01 07:37:31 2018 -0800
+++ b/js/src/jit/VMFunctions.cpp	Thu Mar 01 15:37:29 2018 +0100
@@ -721,7 +721,10 @@
     if (InBounds == IndexInBounds::Yes) {
         MOZ_ASSERT(uint32_t(index) < obj->as<NativeObject>().getDenseInitializedLength());
     } else {
-        if (MOZ_UNLIKELY(!obj->is<NativeObject>() || index < 0)) {
+        if (MOZ_UNLIKELY(!obj->is<NativeObject>() ||
+                         index < 0 ||
+                         uint32_t(index) >= NativeObject::MAX_DENSE_ELEMENTS_COUNT))
+        {
             rt->gc.storeBuffer().putWholeCell(obj);
             return;
         }
