diff -r 3e01f819ec53 -r a56d17a4247a dom/media/MediaRecorder.cpp
--- a/dom/media/MediaRecorder.cpp	Wed Jul 12 11:58:47 2017 +0200
+++ b/dom/media/MediaRecorder.cpp	Tue Jul 11 09:14:28 2017 +1200
@@ -448,6 +448,14 @@
 
   void NotifyTrackRemoved(const RefPtr<MediaStreamTrack>& aTrack) override
   {
+    // Handle possible early removal of direct video listener
+    if (mEncoder) {
+      RefPtr<VideoStreamTrack> videoTrack = aTrack->AsVideoStreamTrack();
+      if (videoTrack) {
+        videoTrack->RemoveDirectListener(mEncoder->GetVideoSink());
+      }
+    }
+
     RefPtr<MediaInputPort> foundInputPort;
     for (RefPtr<MediaInputPort> inputPort : mInputPorts) {
       if (aTrack->IsForwardedThrough(inputPort)) {
