diff -r 40f94b7c2ca8 -r 7f79ca528297 docshell/base/nsDocShellLoadInfo.cpp
--- a/docshell/base/nsDocShellLoadInfo.cpp	Tue Jul 24 09:19:25 2018 +0200
+++ b/docshell/base/nsDocShellLoadInfo.cpp	Thu Jul 26 15:31:59 2018 +0300
@@ -20,6 +20,7 @@
 
 nsDocShellLoadInfo::nsDocShellLoadInfo()
   : mResultPrincipalURIIsSome(false)
+  , mKeepResultPrincipalURIIfSet(false)
   , mLoadReplace(false)
   , mInheritPrincipal(false)
   , mPrincipalIsExplicit(false)
@@ -85,6 +86,18 @@
 }
 
 bool
+nsDocShellLoadInfo::KeepResultPrincipalURIIfSet() const
+{
+  return mKeepResultPrincipalURIIfSet;
+}
+
+void
+nsDocShellLoadInfo::SetKeepResultPrincipalURIIfSet(bool aKeep)
+{
+  mKeepResultPrincipalURIIfSet = aKeep;
+}
+
+bool
 nsDocShellLoadInfo::LoadReplace() const
 {
   return mLoadReplace;
