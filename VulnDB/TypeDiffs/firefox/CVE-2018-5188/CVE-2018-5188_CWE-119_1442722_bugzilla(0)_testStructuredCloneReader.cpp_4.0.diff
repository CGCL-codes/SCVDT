diff -r b6f094b0dcf2 -r eb37293b1520 js/src/fuzz-tests/testStructuredCloneReader.cpp
--- a/js/src/fuzz-tests/testStructuredCloneReader.cpp	Mon May 21 09:13:47 2018 -0700
+++ b/js/src/fuzz-tests/testStructuredCloneReader.cpp	Fri Apr 06 15:33:32 2018 -0700
@@ -39,7 +39,9 @@
     const size_t kSegmentAlignment = 8;
     size_t buf_size = JS_ROUNDUP(size, kSegmentAlignment);
 
-    auto clonebuf = MakeUnique<JSStructuredCloneData>();
+    JS::StructuredCloneScope scope = JS::StructuredCloneScope::DifferentProcess;
+
+    auto clonebuf = MakeUnique<JSStructuredCloneData>(scope);
     if (!clonebuf || !clonebuf->Init(buf_size)) {
         ReportOutOfMemory(gCx);
         return 0;
@@ -50,8 +52,6 @@
     char padding[kSegmentAlignment] = {0};
     clonebuf->AppendBytes(padding, buf_size - size);
 
-    JS::StructuredCloneScope scope = JS::StructuredCloneScope::DifferentProcess;
-
     RootedValue deserialized(gCx);
     if (!JS_ReadStructuredClone(gCx, *clonebuf,
     			JS_STRUCTURED_CLONE_VERSION,
