diff -r e0fe3a00acc7 -r 3574187cbf66 js/src/jit/Lowering.cpp
--- a/js/src/jit/Lowering.cpp	Sat Apr 21 18:48:29 2018 +0200
+++ b/js/src/jit/Lowering.cpp	Fri Apr 06 13:24:25 2018 -0400
@@ -4512,6 +4512,16 @@
 }
 
 void
+LIRGenerator::visitGuardToClass(MGuardToClass* ins)
+{
+    MOZ_ASSERT(ins->object()->type() == MIRType::Object);
+    MOZ_ASSERT(ins->type() == MIRType::ObjectOrNull|| ins->type() == MIRType::Object);
+    LGuardToClass* lir = new(alloc()) LGuardToClass(useRegister(ins->object()), temp());
+    assignSnapshot(lir, Bailout_TypeBarrierO);
+    define(lir, ins);
+}
+
+void
 LIRGenerator::visitObjectClassToString(MObjectClassToString* ins)
 {
     MOZ_ASSERT(ins->object()->type() == MIRType::Object);
