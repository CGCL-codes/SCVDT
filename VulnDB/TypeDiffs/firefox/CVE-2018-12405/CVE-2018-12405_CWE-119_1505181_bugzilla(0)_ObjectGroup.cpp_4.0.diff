diff -r 041e2b51e5bf -r f5ad8dcc3ee8 js/src/vm/ObjectGroup.cpp
--- a/js/src/vm/ObjectGroup.cpp	Tue Nov 13 16:43:22 2018 +0000
+++ b/js/src/vm/ObjectGroup.cpp	Wed Nov 07 21:12:45 2018 +0100
@@ -524,14 +524,7 @@
         if (associated->is<JSFunction>()) {
 
             // Canonicalize new functions to use the original one associated with its script.
-            JSFunction* fun = &associated->as<JSFunction>();
-            if (fun->hasScript()) {
-                associated = fun->nonLazyScript()->functionNonDelazifying();
-            } else if (fun->isInterpretedLazy() && !fun->isSelfHostedBuiltin()) {
-                associated = fun->lazyScript()->functionNonDelazifying();
-            } else {
-                associated = nullptr;
-            }
+            associated = associated->as<JSFunction>().maybeCanonicalFunction();
 
             // If we have previously cleared the 'new' script information for this
             // function, don't try to construct another one.
