diff -r b42cd879741d -r 78665669bade ipc/glue/BackgroundUtils.cpp
--- a/ipc/glue/BackgroundUtils.cpp	Wed Nov 21 09:43:47 2018 +0000
+++ b/ipc/glue/BackgroundUtils.cpp	Wed Nov 21 16:28:20 2018 +0000
@@ -453,7 +453,8 @@
       aLoadInfo->GetLoadTriggeredFromExternal(),
       aLoadInfo->GetServiceWorkerTaintingSynthesized(),
       aLoadInfo->GetDocumentHasUserInteracted(),
-      aLoadInfo->GetDocumentHasLoaded()
+      aLoadInfo->GetDocumentHasLoaded(),
+      aLoadInfo->GetIsFromProcessingFrameAttributes()
       );
 
   return NS_OK;
@@ -571,7 +572,7 @@
       loadInfoArgs.controller().get_IPCServiceWorkerDescriptor()));
   }
 
-  nsCOMPtr<nsILoadInfo> loadInfo =
+  RefPtr<mozilla::LoadInfo> loadInfo =
     new mozilla::LoadInfo(loadingPrincipal,
                           triggeringPrincipal,
                           principalToInherit,
@@ -619,6 +620,10 @@
                           loadInfoArgs.documentHasLoaded()
                           );
 
+  if (loadInfoArgs.isFromProcessingFrameAttributes()) {
+    loadInfo->SetIsFromProcessingFrameAttributes();
+  }
+
    loadInfo.forget(outLoadInfo);
    return NS_OK;
 }
