diff -r 89aacb54a882 -r ba5a351909cc toolkit/crashreporter/client/crashreporter_win.cpp
--- a/toolkit/crashreporter/client/crashreporter_win.cpp	Tue Apr 11 14:00:19 2017 -0700
+++ b/toolkit/crashreporter/client/crashreporter_win.cpp	Sat Mar 25 15:47:16 2017 +0100
@@ -206,8 +206,8 @@
 static bool GetStringValue(HKEY hRegKey, LPCTSTR valueName, wstring& value)
 {
   DWORD type, dataSize;
-  wchar_t buf[2048];
-  dataSize = sizeof(buf);
+  wchar_t buf[2048] = {};
+  dataSize = sizeof(buf) - 1;
   if (RegQueryValueEx(hRegKey, valueName, nullptr,
                      &type, (LPBYTE)buf, &dataSize) == ERROR_SUCCESS &&
       type == REG_SZ) {
@@ -1391,7 +1391,7 @@
                        const string& product,
                        string& settings_path)
 {
-  wchar_t path[MAX_PATH];
+  wchar_t path[MAX_PATH] = {};
   HRESULT hRes = SHGetFolderPath(nullptr,
                                  CSIDL_APPDATA,
                                  nullptr,
@@ -1402,7 +1402,8 @@
     // registry when the call to SHGetFolderPath is unable to provide this path
     // (Bug 513958).
     HKEY key;
-    DWORD type, size, dwRes;
+    DWORD type, dwRes;
+    DWORD size = sizeof(path) - 1;
     dwRes = ::RegOpenKeyExW(HKEY_CURRENT_USER,
                             L"Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Shell Folders",
                             0,
