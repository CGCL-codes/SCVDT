diff -r 71761ab92e6d -r 9cb5d9d656d2 toolkit/components/url-classifier/tests/gtest/Common.cpp
--- a/toolkit/components/url-classifier/tests/gtest/Common.cpp	Tue Sep 12 13:21:31 2017 -0700
+++ b/toolkit/components/url-classifier/tests/gtest/Common.cpp	Tue Sep 05 17:14:54 2017 +0800
@@ -152,8 +152,7 @@
 GeneratePrefix(const nsCString& aFragment, uint8_t aLength)
 {
   Completion complete;
-  nsCOMPtr<nsICryptoHash> cryptoHash = do_CreateInstance(NS_CRYPTO_HASH_CONTRACTID);
-  complete.FromPlaintext(aFragment, cryptoHash);
+  complete.FromPlaintext(aFragment);
 
   nsCString hash;
   hash.Assign((const char *)complete.buf, aLength);
