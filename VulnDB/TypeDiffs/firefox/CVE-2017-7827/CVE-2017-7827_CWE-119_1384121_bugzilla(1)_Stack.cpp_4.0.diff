diff -r 15f2fbd686f6 -r eab55565955d js/src/vm/Stack.cpp
--- a/js/src/vm/Stack.cpp	Wed Sep 20 09:57:18 2017 +0000
+++ b/js/src/vm/Stack.cpp	Wed Sep 20 12:13:54 2017 +0200
@@ -605,6 +605,8 @@
 void
 FrameIter::settleOnActivation()
 {
+    MOZ_ASSERT(!data_.cx_->inUnsafeCallWithABI);
+
     while (true) {
         if (data_.activations_.done()) {
             data_.state_ = DONE;
