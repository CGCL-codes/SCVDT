diff -r 451bfe2c80bb -r 544de21bc060 dom/base/nsNodeUtils.cpp
--- a/dom/base/nsNodeUtils.cpp	Fri Oct 13 11:48:52 2017 -0700
+++ b/dom/base/nsNodeUtils.cpp	Wed Oct 11 22:19:06 2017 -0400
@@ -593,6 +593,9 @@
             aNode->OwnerDoc()->UnregisterActivityObserver(aNode->AsElement());
           }
           aNode->mNodeInfo.swap(newNodeInfo);
+          if (elem) {
+            elem->NodeInfoChanged(newDoc);
+          }
           if (wasRegistered) {
             aNode->OwnerDoc()->RegisterActivityObserver(aNode->AsElement());
           }
