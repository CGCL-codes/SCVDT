diff -r acc4347ff88f -r 5a5a5edabc60 dom/canvas/WebGLContext.cpp
--- a/dom/canvas/WebGLContext.cpp	Thu Feb 28 22:33:12 2019 +0000
+++ b/dom/canvas/WebGLContext.cpp	Tue Mar 05 17:49:33 2019 +0100
@@ -1138,6 +1138,11 @@
   CanvasRenderer* canvasRenderer = canvasLayer->CreateOrGetCanvasRenderer();
   if (!InitializeCanvasRenderer(builder, canvasRenderer)) return nullptr;
 
+  if (!gl) {
+    NS_WARNING("GLContext is null!");
+    return nullptr;
+  }
+
   uint32_t flags = gl->Caps().alpha ? 0 : Layer::CONTENT_OPAQUE;
   canvasLayer->SetContentFlags(flags);
 
@@ -1191,10 +1196,10 @@
     data.mDidTransCallbackData = this;
   }
 
-  data.mGLContext = gl;
   data.mSize = DrawingBufferSize();
   data.mHasAlpha = mOptions.alpha;
   data.mIsGLAlphaPremult = IsPremultAlpha() || !data.mHasAlpha;
+  data.mGLContext = gl;
 
   aRenderer->Initialize(data);
   aRenderer->SetDirty();
