diff -r a95052dd0043 -r 0f09554ca8cb dom/script/ScriptLoader.cpp
--- a/dom/script/ScriptLoader.cpp	Tue Feb 26 17:46:15 2019 +0000
+++ b/dom/script/ScriptLoader.cpp	Fri Mar 01 16:53:47 2019 +0000
@@ -400,6 +400,11 @@
   return ms;
 }
 
+void ScriptLoader::ClearModuleMap() {
+  MOZ_ASSERT(mFetchingModules.IsEmpty());
+  mFetchedModules.Clear();
+}
+
 nsresult ScriptLoader::ProcessFetchedModuleSource(ModuleLoadRequest* aRequest) {
   MOZ_ASSERT(!aRequest->mModuleScript);
 
