diff -r b8c46f489084 -r 041d1c561feb xpcom/ds/PLDHashTable.cpp
--- a/xpcom/ds/PLDHashTable.cpp	Tue Apr 10 18:54:01 2018 -0700
+++ b/xpcom/ds/PLDHashTable.cpp	Mon Apr 09 11:01:59 2018 -0700
@@ -224,17 +224,17 @@
     return *this;
   }
 
-  // Destruct |this|.
-  this->~PLDHashTable();
-
-  // |mOps| and |mEntrySize| are const so we can't assign them. Instead, we
-  // require that they are equal. The justification for this is that they're
+  // |mOps| and |mEntrySize| are required to stay the same, they're
   // conceptually part of the type -- indeed, if PLDHashTable was a templated
   // type like nsTHashtable, they *would* be part of the type -- so it only
   // makes sense to assign in cases where they match.
   MOZ_RELEASE_ASSERT(mOps == aOther.mOps);
   MOZ_RELEASE_ASSERT(mEntrySize == aOther.mEntrySize);
 
+  // Reconstruct |this|.
+  this->~PLDHashTable();
+  new (KnownNotNull, this) PLDHashTable(aOther.mOps, aOther.mEntrySize, 0);
+
   // Move non-const pieces over.
   mHashShift = Move(aOther.mHashShift);
   mEntryCount = Move(aOther.mEntryCount);
