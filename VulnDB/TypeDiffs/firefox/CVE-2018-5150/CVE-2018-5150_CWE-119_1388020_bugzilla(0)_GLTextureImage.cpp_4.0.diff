diff -r ed5444c44e74 -r 7bd226b1ef55 gfx/gl/GLTextureImage.cpp
--- a/gfx/gl/GLTextureImage.cpp	Mon Apr 09 12:08:00 2018 +0300
+++ b/gfx/gl/GLTextureImage.cpp	Fri Apr 06 09:01:17 2018 -0400
@@ -149,6 +149,9 @@
                                &uploadSize,
                                needInit,
                                aFrom);
+    if (mTextureFormat == SurfaceFormat::UNKNOWN) {
+        return false;
+    }
 
     if (uploadSize > 0) {
         UpdateUploadSize(uploadSize);
