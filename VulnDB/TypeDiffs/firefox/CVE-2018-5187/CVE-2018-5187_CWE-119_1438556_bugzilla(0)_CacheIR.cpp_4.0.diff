diff -r e5ddad5f46fa -r 4f9016111872 js/src/jit/CacheIR.cpp
--- a/js/src/jit/CacheIR.cpp	Mon Apr 30 10:14:35 2018 -0400
+++ b/js/src/jit/CacheIR.cpp	Tue Apr 24 10:21:11 2018 -0400
@@ -16,6 +16,7 @@
 
 #include "jit/MacroAssembler-inl.h"
 #include "vm/EnvironmentObject-inl.h"
+#include "vm/JSContext-inl.h"
 #include "vm/JSObject-inl.h"
 #include "vm/UnboxedObject-inl.h"
 
@@ -31,6 +32,10 @@
 #undef DEFINE_KIND
 };
 
+void
+CacheIRWriter::assertSameCompartment(JSObject* obj) {
+    assertSameCompartmentDebugOnly(cx_, obj);
+}
 
 IRGenerator::IRGenerator(JSContext* cx, HandleScript script, jsbytecode* pc, CacheKind cacheKind,
                          ICState::Mode mode)
