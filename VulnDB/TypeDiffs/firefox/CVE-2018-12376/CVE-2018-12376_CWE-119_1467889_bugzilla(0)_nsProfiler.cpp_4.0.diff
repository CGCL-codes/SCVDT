diff -r 4a79d4e9efff -r f7b6f9fd2de5 tools/profiler/gecko/nsProfiler.cpp
--- a/tools/profiler/gecko/nsProfiler.cpp	Thu Jun 28 14:33:32 2018 -0500
+++ b/tools/profiler/gecko/nsProfiler.cpp	Mon Aug 06 19:01:21 2018 +0300
@@ -619,8 +619,8 @@
   for (auto profile : profiles) {
     profile->Then(GetMainThreadSerialEventTarget(), __func__,
       [self](const mozilla::ipc::Shmem& aResult) {
-        const nsDependentCString profileString(aResult.get<char>(),
-                                               aResult.Size<char>());
+        const nsDependentCSubstring profileString(aResult.get<char>(),
+                                                  aResult.Size<char>());
         self->GatheredOOPProfile(profileString);
       },
       [self](ipc::ResponseRejectReason aReason) {
@@ -673,4 +673,4 @@
   mExitProfiles.RemoveElementsBy([bufferRangeStart](ExitProfile& aExitProfile){
     return aExitProfile.mBufferPositionAtGatherTime < bufferRangeStart;
   });
-}
\ No newline at end of file
+}
