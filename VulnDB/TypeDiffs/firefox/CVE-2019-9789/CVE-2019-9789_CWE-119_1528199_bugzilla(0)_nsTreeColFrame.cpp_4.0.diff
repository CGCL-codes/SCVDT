diff -r c5bcd3213da6 -r 42c46d6cd486 layout/xul/tree/nsTreeColFrame.cpp
--- a/layout/xul/tree/nsTreeColFrame.cpp	Fri Feb 08 22:52:56 2019 +0000
+++ b/layout/xul/tree/nsTreeColFrame.cpp	Fri Feb 15 19:05:09 2019 +0000
@@ -15,8 +15,10 @@
 #include "nsDisplayList.h"
 #include "nsTreeBodyFrame.h"
 #include "nsXULElement.h"
+#include "mozilla/dom/XULTreeElement.h"
 
 using namespace mozilla;
+using namespace mozilla::dom;
 
 //
 // NS_NewTreeColFrame
@@ -151,18 +153,22 @@
 
 void nsTreeColFrame::InvalidateColumns(bool aCanWalkFrameTree) {
   RefPtr<XULTreeElement> tree = GetTree();
-  if (tree) {
-    RefPtr<nsTreeColumns> columns;
+  if (!tree) {
+    return;
+  }
+
+  nsTreeBodyFrame* body = aCanWalkFrameTree
+                              ? tree->GetTreeBodyFrame(FlushType::None)
+                              : tree->GetCachedTreeBodyFrame();
 
-    if (aCanWalkFrameTree) {
-      columns = tree->GetColumns();
-    } else {
-      nsTreeBodyFrame* body = tree->GetCachedTreeBodyFrame();
-      if (body) {
-        columns = body->Columns();
-      }
-    }
+  if (!body) {
+    return;
+  }
 
-    if (columns) columns->InvalidateColumns();
+  RefPtr<nsTreeColumns> columns = body->Columns();
+  if (!columns) {
+    return;
   }
+
+  columns->InvalidateColumns();
 }
