diff -r 364d2be12e37 -r 59696b74a507 xpcom/tests/gtest/TestUTF.cpp
--- a/xpcom/tests/gtest/TestUTF.cpp	Thu Jan 17 09:15:11 2019 +0200
+++ b/xpcom/tests/gtest/TestUTF.cpp	Wed Jan 16 17:09:32 2019 +0000
@@ -202,15 +202,19 @@
   EXPECT_EQ(UTF8CharEnumerator::NextChar(&p, end), 0xFFFDU);
   EXPECT_EQ(UTF8CharEnumerator::NextChar(&p, end), 0xFFFDU);
   EXPECT_EQ(p, end);
-  p = "\xC2";
+  p = "\xC2\xB6";
   end = p + 1;
   EXPECT_EQ(UTF8CharEnumerator::NextChar(&p, end), 0xFFFDU);
   EXPECT_EQ(p, end);
-  p = "\xE1\x80";
+  p = "\xE2\x98\x83";
   end = p + 2;
   EXPECT_EQ(UTF8CharEnumerator::NextChar(&p, end), 0xFFFDU);
   EXPECT_EQ(p, end);
-  p = "\xF1\x80\x80";
+  p = "\xF0\x9F\x92\xA9";
+  end = p + 2;
+  EXPECT_EQ(UTF8CharEnumerator::NextChar(&p, end), 0xFFFDU);
+  EXPECT_EQ(p, end);
+  p = "\xF0\x9F\x92\xA9";
   end = p + 3;
   EXPECT_EQ(UTF8CharEnumerator::NextChar(&p, end), 0xFFFDU);
   EXPECT_EQ(p, end);
