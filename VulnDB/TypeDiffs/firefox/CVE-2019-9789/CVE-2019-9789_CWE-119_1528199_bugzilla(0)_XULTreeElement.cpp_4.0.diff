diff -r c5bcd3213da6 -r 42c46d6cd486 dom/xul/XULTreeElement.cpp
--- a/dom/xul/XULTreeElement.cpp	Fri Feb 08 22:52:56 2019 +0000
+++ b/dom/xul/XULTreeElement.cpp	Fri Feb 15 19:05:09 2019 +0000
@@ -79,7 +79,9 @@
   return nullptr;
 }
 
-nsTreeBodyFrame* XULTreeElement::GetTreeBodyFrame(bool aFlushLayout) {
+nsTreeBodyFrame* XULTreeElement::GetTreeBodyFrame(FlushType aFlushType) {
+  MOZ_ASSERT(aFlushType == FlushType::Frames ||
+             aFlushType == FlushType::Layout || aFlushType == FlushType::None);
   nsCOMPtr<nsIContent> kungFuDeathGrip = this;  // keep a reference
   RefPtr<Document> doc = GetUncomposedDoc();
 
@@ -89,7 +91,7 @@
   // is true we need to make sure to flush no matter what.
   // XXXbz except that flushing style when we were not asked to flush
   // layout here breaks things.  See bug 585123.
-  if (aFlushLayout && doc) {
+  if (aFlushType == FlushType::Layout && doc) {
     doc->FlushPendingNotifications(FlushType::Layout);
   }
 
@@ -98,12 +100,11 @@
     return mTreeBody;
   }
 
-  if (!aFlushLayout && doc) {
+  if (aFlushType == FlushType::Frames && doc) {
     doc->FlushPendingNotifications(FlushType::Frames);
   }
 
-  nsCOMPtr<nsIContent> tree = FindBodyElement(this);
-  if (tree) {
+  if (nsCOMPtr<nsIContent> tree = FindBodyElement(this)) {
     mTreeBody = do_QueryFrame(tree->GetPrimaryFrame());
   }
 
@@ -252,7 +253,7 @@
 }
 
 void XULTreeElement::ScrollToRow(int32_t aRow) {
-  nsTreeBodyFrame* body = GetTreeBodyFrame(true);
+  nsTreeBodyFrame* body = GetTreeBodyFrame(FlushType::Layout);
   if (!body) {
     return;
   }
