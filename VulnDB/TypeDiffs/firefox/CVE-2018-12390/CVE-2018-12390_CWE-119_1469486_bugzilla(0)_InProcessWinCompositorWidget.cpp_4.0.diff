diff -r bcfe1d1d13b5 -r 615a51e2b5e2 widget/windows/InProcessWinCompositorWidget.cpp
--- a/widget/windows/InProcessWinCompositorWidget.cpp	Mon Oct 15 17:49:53 2018 +0300
+++ b/widget/windows/InProcessWinCompositorWidget.cpp	Thu Sep 27 15:57:56 2018 -0500
@@ -37,6 +37,31 @@
   MOZ_ASSERT(mWindow);
 }
 
+void
+InProcessWinCompositorWidget::OnDestroyWindow()
+{
+  EnterPresentLock();
+  WinCompositorWidget::OnDestroyWindow();
+  LeavePresentLock();
+}
+
+void
+InProcessWinCompositorWidget::UpdateTransparency(nsTransparencyMode aMode)
+{
+  EnterPresentLock();
+  WinCompositorWidget::UpdateTransparency(aMode);
+  LeavePresentLock();
+}
+
+void
+InProcessWinCompositorWidget::ClearTransparentWindow()
+{
+  EnterPresentLock();
+  WinCompositorWidget::ClearTransparentWindow();
+  LeavePresentLock();
+}
+
+
 nsIWidget*
 InProcessWinCompositorWidget::RealWidget()
 {
