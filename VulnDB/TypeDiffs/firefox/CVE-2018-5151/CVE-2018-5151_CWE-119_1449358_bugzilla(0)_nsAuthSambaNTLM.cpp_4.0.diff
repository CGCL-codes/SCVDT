diff -r 59e50af7afe1 -r 23ab5a282723 extensions/auth/nsAuthSambaNTLM.cpp
--- a/extensions/auth/nsAuthSambaNTLM.cpp	Wed Apr 18 15:30:57 2018 -0400
+++ b/extensions/auth/nsAuthSambaNTLM.cpp	Tue Apr 17 10:14:20 2018 -0400
@@ -6,6 +6,7 @@
 #include "nsAuth.h"
 #include "nsAuthSambaNTLM.h"
 #include "nsMemory.h"
+#include "nspr.h"
 #include "prenv.h"
 #include "plbase64.h"
 #include "prerror.h"
@@ -24,7 +25,7 @@
     // ntlm_auth reads from stdin regularly so closing our file handles
     // should cause it to exit.
     Shutdown();
-    free(mInitialMessage);
+    PR_Free(mInitialMessage);
 }
 
 void
@@ -249,7 +250,7 @@
     nsCString request;
     request.AssignLiteral("TT ");
     request.Append(encoded);
-    free(encoded);
+    PR_Free(encoded);
     request.Append('\n');
 
     if (!WriteString(mToChildFD, request))
@@ -266,7 +267,7 @@
     if (!buf)
         return NS_ERROR_FAILURE;
     *outToken = nsMemory::Clone(buf, *outTokenLen);
-    free(buf);
+    PR_Free(buf);
     if (!*outToken) {
         return NS_ERROR_OUT_OF_MEMORY;
     }
