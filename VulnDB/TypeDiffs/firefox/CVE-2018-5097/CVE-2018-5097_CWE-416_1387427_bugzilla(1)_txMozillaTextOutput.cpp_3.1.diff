diff -r b49e691cd02e -r b069f99a8ca9 dom/xslt/xslt/txMozillaTextOutput.cpp
--- a/dom/xslt/xslt/txMozillaTextOutput.cpp	Wed Nov 29 14:11:19 2017 -0500
+++ b/dom/xslt/xslt/txMozillaTextOutput.cpp	Fri Nov 03 16:58:59 2017 +0100
@@ -158,7 +158,7 @@
     NS_ASSERTION(mDocument, "Need document");
 
     // Reset and set up document
-    URIUtils::ResetWithSource(mDocument, aSourceDocument);
+    URIUtils::ResetWithSource(mDocument, source);
     // Only do this after resetting the document to ensure we have the
     // correct principal.
     mDocument->SetScriptHandlingObject(sgo);
