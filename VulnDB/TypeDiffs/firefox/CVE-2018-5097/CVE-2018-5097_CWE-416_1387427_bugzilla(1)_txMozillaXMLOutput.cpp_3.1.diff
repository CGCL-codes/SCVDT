diff -r b49e691cd02e -r b069f99a8ca9 dom/xslt/xslt/txMozillaXMLOutput.cpp
--- a/dom/xslt/xslt/txMozillaXMLOutput.cpp	Wed Nov 29 14:11:19 2017 -0500
+++ b/dom/xslt/xslt/txMozillaXMLOutput.cpp	Fri Nov 03 16:58:59 2017 +0100
@@ -811,7 +811,7 @@
     mNodeInfoManager = mDocument->NodeInfoManager();
 
     // Reset and set up the document
-    URIUtils::ResetWithSource(mDocument, aSourceDocument);
+    URIUtils::ResetWithSource(mDocument, source);
 
     // Make sure we set the script handling object after resetting with the
     // source, so that we have the right principal.
