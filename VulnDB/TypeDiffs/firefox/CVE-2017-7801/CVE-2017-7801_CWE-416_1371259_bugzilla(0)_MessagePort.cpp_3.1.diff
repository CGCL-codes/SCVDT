diff -r d44b343011f7 -r e3d205dc31f3 dom/messagechannel/MessagePort.cpp
--- a/dom/messagechannel/MessagePort.cpp	Tue Jul 11 05:55:27 2017 -0700
+++ b/dom/messagechannel/MessagePort.cpp	Mon Jul 10 18:06:18 2017 -0400
@@ -402,13 +402,13 @@
   // Here we want to check if the transerable object list contains
   // this port.
   for (uint32_t i = 0; i < aTransferable.Length(); ++i) {
-    JSObject* object = aTransferable[i];
+    JS::Rooted<JSObject*> object(aCx, aTransferable[i]);
     if (!object) {
       continue;
     }
 
     MessagePort* port = nullptr;
-    nsresult rv = UNWRAP_OBJECT(MessagePort, object, port);
+    nsresult rv = UNWRAP_OBJECT(MessagePort, &object, port);
     if (NS_SUCCEEDED(rv) && port == this) {
       aRv.Throw(NS_ERROR_DOM_DATA_CLONE_ERR);
       return;
