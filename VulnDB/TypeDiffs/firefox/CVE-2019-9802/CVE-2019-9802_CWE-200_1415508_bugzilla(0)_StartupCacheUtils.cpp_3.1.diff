diff -r 9ab0c2f8e3fa -r 70a034af6e4b startupcache/StartupCacheUtils.cpp
--- a/startupcache/StartupCacheUtils.cpp	Fri Mar 01 16:52:31 2019 +0000
+++ b/startupcache/StartupCacheUtils.cpp	Mon Feb 25 19:11:20 2019 +0000
@@ -22,8 +22,9 @@
 nsresult NewObjectInputStreamFromBuffer(UniquePtr<char[]> buffer, uint32_t len,
                                         nsIObjectInputStream **stream) {
   nsCOMPtr<nsIInputStream> stringStream;
-  nsresult rv = NS_NewByteInputStream(
-      getter_AddRefs(stringStream), buffer.release(), len, NS_ASSIGNMENT_ADOPT);
+  nsresult rv = NS_NewByteInputStream(getter_AddRefs(stringStream),
+                                      MakeSpan(buffer.release(), len),
+                                      NS_ASSIGNMENT_ADOPT);
   MOZ_ALWAYS_SUCCEEDS(rv);
 
   nsCOMPtr<nsIObjectInputStream> objectInput =
