diff -r 9ab0c2f8e3fa -r 70a034af6e4b toolkit/components/places/FaviconHelpers.cpp
--- a/toolkit/components/places/FaviconHelpers.cpp	Fri Mar 01 16:52:31 2019 +0000
+++ b/toolkit/components/places/FaviconHelpers.cpp	Mon Feb 25 19:11:20 2019 +0000
@@ -1224,8 +1224,8 @@
 
   // Convert the payload to an input stream.
   nsCOMPtr<nsIInputStream> stream;
-  nsresult rv = NS_NewByteInputStream(getter_AddRefs(stream), aPayload.get(),
-                                      aPayload.Length(), NS_ASSIGNMENT_DEPEND);
+  nsresult rv = NS_NewByteInputStream(getter_AddRefs(stream), aPayload,
+                                      NS_ASSIGNMENT_DEPEND);
   NS_ENSURE_SUCCESS(rv, rv);
 
   // Decode the input stream to a surface.
