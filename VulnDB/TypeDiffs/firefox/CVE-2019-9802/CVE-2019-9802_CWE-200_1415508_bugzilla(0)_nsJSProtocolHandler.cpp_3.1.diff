diff -r 9ab0c2f8e3fa -r 70a034af6e4b dom/jsurl/nsJSProtocolHandler.cpp
--- a/dom/jsurl/nsJSProtocolHandler.cpp	Fri Mar 01 16:52:31 2019 +0000
+++ b/dom/jsurl/nsJSProtocolHandler.cpp	Mon Feb 25 19:11:20 2019 +0000
@@ -290,7 +290,8 @@
     }
     aChannel->SetContentCharset(*charset);
     if (bytes)
-      rv = NS_NewByteInputStream(getter_AddRefs(mInnerStream), bytes, bytesLen,
+      rv = NS_NewByteInputStream(getter_AddRefs(mInnerStream),
+                                 mozilla::MakeSpan(bytes, bytesLen),
                                  NS_ASSIGNMENT_ADOPT);
     else
       rv = NS_ERROR_OUT_OF_MEMORY;
