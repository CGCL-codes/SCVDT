diff -r 9ab0c2f8e3fa -r 70a034af6e4b modules/libjar/zipwriter/nsDeflateConverter.cpp
--- a/modules/libjar/zipwriter/nsDeflateConverter.cpp	Fri Mar 01 16:52:31 2019 +0000
+++ b/modules/libjar/zipwriter/nsDeflateConverter.cpp	Mon Feb 25 19:11:20 2019 +0000
@@ -159,8 +159,8 @@
 
   MOZ_ASSERT(bytesToWrite <= INT32_MAX);
   nsCOMPtr<nsIInputStream> stream;
-  nsresult rv = NS_NewByteInputStream(getter_AddRefs(stream),
-                                      (char *)mWriteBuffer, bytesToWrite);
+  nsresult rv = NS_NewByteInputStream(
+      getter_AddRefs(stream), MakeSpan((char *)mWriteBuffer, bytesToWrite));
   NS_ENSURE_SUCCESS(rv, rv);
 
   rv = mListener->OnDataAvailable(aRequest, mContext, stream, mOffset,
