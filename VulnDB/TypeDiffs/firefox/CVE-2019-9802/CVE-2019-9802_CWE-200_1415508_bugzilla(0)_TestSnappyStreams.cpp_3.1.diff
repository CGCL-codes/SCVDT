diff -r 9ab0c2f8e3fa -r 70a034af6e4b xpcom/tests/gtest/TestSnappyStreams.cpp
--- a/xpcom/tests/gtest/TestSnappyStreams.cpp	Fri Mar 01 16:52:31 2019 +0000
+++ b/xpcom/tests/gtest/TestSnappyStreams.cpp	Mon Feb 25 19:11:20 2019 +0000
@@ -84,8 +84,8 @@
 static void TestUncompressCorrupt(const char* aCorruptData,
                                   uint32_t aCorruptLength) {
   nsCOMPtr<nsIInputStream> source;
-  nsresult rv = NS_NewByteInputStream(getter_AddRefs(source), aCorruptData,
-                                      aCorruptLength);
+  nsresult rv = NS_NewByteInputStream(getter_AddRefs(source),
+                                      MakeSpan(aCorruptData, aCorruptLength));
   ASSERT_TRUE(NS_SUCCEEDED(rv));
 
   nsCOMPtr<nsIInputStream> uncompress = new SnappyUncompressInputStream(source);
