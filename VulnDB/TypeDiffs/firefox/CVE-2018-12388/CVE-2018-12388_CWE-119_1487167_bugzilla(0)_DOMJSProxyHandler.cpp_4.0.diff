diff -r b1b3f1e5ec42 -r 3e4a2d14ca35 dom/bindings/DOMJSProxyHandler.cpp
--- a/dom/bindings/DOMJSProxyHandler.cpp	Fri Oct 05 11:38:00 2018 -0400
+++ b/dom/bindings/DOMJSProxyHandler.cpp	Tue Aug 28 21:26:50 2018 -0700
@@ -105,6 +105,9 @@
   MOZ_ASSERT(!js::gc::EdgeNeedsSweepUnbarriered(&proxy));
   nsISupports* native = UnwrapDOMObject<nsISupports>(proxy);
   nsWrapperCache* cache;
+  // QI to nsWrapperCache cannot GC for very non-obvious reasons; see
+  // https://searchfox.org/mozilla-central/rev/55da592d85c2baf8d8818010c41d9738c97013d2/js/xpconnect/src/XPCWrappedJSClass.cpp#521,545-548
+  JS::AutoSuppressGCAnalysis nogc;
   CallQueryInterface(native, &cache);
   MOZ_ASSERT(cache->GetWrapperPreserveColor() == proxy);
 #endif
