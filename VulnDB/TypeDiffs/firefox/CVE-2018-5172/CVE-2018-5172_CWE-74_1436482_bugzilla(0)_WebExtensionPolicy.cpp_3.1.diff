diff -r 48d402a628e6 -r c059987d366d toolkit/components/extensions/WebExtensionPolicy.cpp
--- a/toolkit/components/extensions/WebExtensionPolicy.cpp	Wed Apr 04 16:54:19 2018 +0200
+++ b/toolkit/components/extensions/WebExtensionPolicy.cpp	Wed Apr 04 17:01:59 2018 -0700
@@ -681,8 +681,7 @@
 const URLInfo&
 DocInfo::PrincipalURL() const
 {
-  if (!URL().InheritsPrincipal() ||
-      !(Principal() && Principal()->GetIsCodebasePrincipal())) {
+  if (!(Principal() && Principal()->GetIsCodebasePrincipal())) {
     return URL();
   }
 
