diff -r 6f232c1a6a0a -r cc960a07cd0e ipc/glue/ProtocolUtils.cpp
--- a/ipc/glue/ProtocolUtils.cpp	Wed Aug 22 21:25:45 2018 -0400
+++ b/ipc/glue/ProtocolUtils.cpp	Tue Aug 21 15:37:42 2018 -0600
@@ -685,6 +685,7 @@
 
 IToplevelProtocol::~IToplevelProtocol()
 {
+  mState = nullptr;
   if (mTrans) {
     RefPtr<DeleteTask<Transport>> task = new DeleteTask<Transport>(mTrans.release());
     XRE_GetIOMessageLoop()->PostTask(task.forget());
