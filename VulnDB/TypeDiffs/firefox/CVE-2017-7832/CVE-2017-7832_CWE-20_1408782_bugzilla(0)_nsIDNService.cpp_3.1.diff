diff -r 0cc2943b6df8 -r 660349c13c4f netwerk/dns/nsIDNService.cpp
--- a/netwerk/dns/nsIDNService.cpp	Fri Sep 15 19:15:18 2017 -0700
+++ b/netwerk/dns/nsIDNService.cpp	Wed Oct 18 10:24:03 2017 +0100
@@ -867,6 +867,7 @@
 
   Script lastScript = Script::INVALID;
   uint32_t previousChar = 0;
+  uint32_t baseChar = 0; // last non-diacritic seen (base char for marks)
   uint32_t savedNumberingSystem = 0;
 // Simplified/Traditional Chinese check temporarily disabled -- bug 857481
 #if 0
@@ -948,6 +949,14 @@
           }
         }
       }
+      // Check for diacritics on dotless-i, which would be indistinguishable
+      // from normal accented letter i.
+      if (baseChar == 0x0131 &&
+          ((ch >= 0x0300 && ch <= 0x0314) || ch == 0x031a)) {
+        return false;
+      }
+    } else {
+      baseChar = ch;
     }
 
     // Simplified/Traditional Chinese check temporarily disabled -- bug 857481
