diff -r c641a06bd8a7 -r 6df68bc48a0d startupcache/StartupCache.cpp
--- a/startupcache/StartupCache.cpp	Wed Oct 25 10:50:26 2017 -0400
+++ b/startupcache/StartupCache.cpp	Thu Oct 26 16:47:27 2017 -0400
@@ -700,6 +700,12 @@
 
 NS_IMPL_ISUPPORTS(StartupCacheWrapper, nsIStartupCache)
 
+StartupCacheWrapper::~StartupCacheWrapper()
+{
+  MOZ_ASSERT(gStartupCacheWrapper == this);
+  gStartupCacheWrapper = nullptr;
+}
+
 already_AddRefed<StartupCacheWrapper> StartupCacheWrapper::GetSingleton()
 {
   if (!gStartupCacheWrapper)
