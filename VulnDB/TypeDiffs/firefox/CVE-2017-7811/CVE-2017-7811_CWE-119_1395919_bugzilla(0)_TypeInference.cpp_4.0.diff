diff -r a52bc131f20b -r 90cac1d73acc js/src/vm/TypeInference.cpp
--- a/js/src/vm/TypeInference.cpp	Wed Sep 06 17:40:39 2017 +0800
+++ b/js/src/vm/TypeInference.cpp	Thu Sep 07 12:51:45 2017 +0200
@@ -2903,6 +2903,9 @@
 void
 ObjectGroup::setFlags(JSContext* cx, ObjectGroupFlags flags)
 {
+    MOZ_ASSERT(!(flags & OBJECT_FLAG_UNKNOWN_PROPERTIES),
+               "Should use markUnknown to set unknownProperties");
+
     if (hasAllFlags(flags))
         return;
 
