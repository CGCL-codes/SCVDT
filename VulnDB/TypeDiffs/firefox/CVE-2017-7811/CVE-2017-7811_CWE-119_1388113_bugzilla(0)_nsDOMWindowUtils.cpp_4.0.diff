diff -r c0bd0885603f -r 3ff79328db1c dom/base/nsDOMWindowUtils.cpp
--- a/dom/base/nsDOMWindowUtils.cpp	Wed Aug 23 18:17:31 2017 +0900
+++ b/dom/base/nsDOMWindowUtils.cpp	Thu Aug 17 14:37:32 2017 -0400
@@ -2976,7 +2976,7 @@
     return NS_ERROR_FAILURE;
   }
 
-  nsIAtom* pseudo = nsCSSPseudoElements::GetPseudoAtom(aPseudoElement);
+  nsCOMPtr<nsIAtom> pseudo = nsCSSPseudoElements::GetPseudoAtom(aPseudoElement);
   RefPtr<nsStyleContext> styleContext =
     nsComputedDOMStyle::GetUnanimatedStyleContextNoFlush(element,
                                                          pseudo, shell);
