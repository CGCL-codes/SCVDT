diff -r 21f73ed97e6a -r fc5cbc7e0d7f dom/events/DataTransfer.cpp
--- a/dom/events/DataTransfer.cpp	Wed Feb 07 15:46:57 2018 -0800
+++ b/dom/events/DataTransfer.cpp	Fri Feb 09 10:43:53 2018 +0900
@@ -307,6 +307,20 @@
   return  NS_OK;
 }
 
+void
+DataTransfer::GetMozTriggeringPrincipalURISpec(nsAString& aPrincipalURISpec)
+{
+  nsCOMPtr<nsIDragSession> dragSession = nsContentUtils::GetDragSession();
+  if (!dragSession) {
+    aPrincipalURISpec.Truncate(0);
+    return;
+  }
+
+  nsCString principalURISpec;
+  dragSession->GetTriggeringPrincipalURISpec(principalURISpec);
+  CopyUTF8toUTF16(principalURISpec, aPrincipalURISpec);
+}
+
 NS_IMETHODIMP
 DataTransfer::SetEffectAllowedInt(uint32_t aEffectAllowed)
 {
