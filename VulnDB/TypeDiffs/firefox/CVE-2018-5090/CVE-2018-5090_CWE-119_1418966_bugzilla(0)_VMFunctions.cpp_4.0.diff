diff -r 935393b713cb -r 32bb2e9efd34 js/src/jit/VMFunctions.cpp
--- a/js/src/jit/VMFunctions.cpp	Mon Dec 18 14:42:21 2017 +0200
+++ b/js/src/jit/VMFunctions.cpp	Wed Dec 13 14:13:43 2017 -0600
@@ -624,7 +624,8 @@
         RootedFunction fun(cx, &callee->as<JSFunction>());
         if (fun->isInterpreted() && fun->isConstructor()) {
             JSScript* script = JSFunction::getOrCreateScript(cx, fun);
-            if (!script || !script->ensureHasTypes(cx))
+            AutoKeepTypeScripts keepTypes(cx);
+            if (!script || !script->ensureHasTypes(cx, keepTypes))
                 return false;
             if (!js::CreateThis(cx, fun, script, newTarget, GenericObject, rval))
                 return false;
