diff -r 5d23b6e0b74d -r 9a2b02fe351b dom/webbrowserpersist/WebBrowserPersistDocumentChild.cpp
--- a/dom/webbrowserpersist/WebBrowserPersistDocumentChild.cpp	Tue Jul 03 15:15:46 2018 -0400
+++ b/dom/webbrowserpersist/WebBrowserPersistDocumentChild.cpp	Fri Jun 22 15:41:39 2018 +0100
@@ -41,6 +41,7 @@
         return;
     }
 
+    nsCOMPtr<nsIPrincipal> principal;
     WebBrowserPersistDocumentAttrs attrs;
     nsCOMPtr<nsIInputStream> postDataStream;
 #define ENSURE(e) do {           \
@@ -60,6 +61,10 @@
     ENSURE(aDocument->GetContentDisposition(attrs.contentDisposition()));
     ENSURE(aDocument->GetCacheKey(&(attrs.cacheKey())));
     ENSURE(aDocument->GetPersistFlags(&(attrs.persistFlags())));
+
+    ENSURE(aDocument->GetPrincipal(getter_AddRefs(principal)));
+    ENSURE(ipc::PrincipalToPrincipalInfo(principal, &(attrs.principal())));
+
     ENSURE(aDocument->GetPostData(getter_AddRefs(postDataStream)));
 #undef ENSURE
 
