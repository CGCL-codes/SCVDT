diff --git a/fs/eventpoll.c b/fs/eventpoll.c
index b682628..7b95004 100644
--- a/fs/eventpoll.c
+++ b/fs/eventpoll.c
@@ -981,13 +981,34 @@ eexit_1:
  * is connected to n file sources. In this case each file source has 1 path
  * of length 1. Thus, the numbers below should be more than sufficient.
  */
-int path_limits[PATH_ARR_SIZE] = { 1000, 500, 100, 50, 10 };
+int path_limits_soft[PATH_ARR_SIZE] = { 1000, 500, 100, 50, 10 };
+int path_limits_hard[PATH_ARR_SIZE] = { 2000, 1000, 200, 100, 20 };
 int path_count[PATH_ARR_SIZE];
 
+static void dump_path_counts(void)
+{
+	int i;
+	
+	for (i = 0; i < PATH_ARR_SIZE; i++) {
+		printk(KERN_ALERT "path count length: %d count: %d\n", i, path_count[i]);
+	}
+}
+	
 static int path_count_inc(int nests)
 {
-	if (++path_count[nests] > path_limits[nests])
+	static int over_soft;
+
+	if (++path_count[nests] > path_limits_soft[nests] && !over_soft) {
+		over_soft = 1;
+		printk(KERN_ALERT "over soft limit!\n");
+		dump_path_counts();
+	}
+	if (path_count[nests] > path_limits_hard[nests]) {
+		over_soft = 1;
+		printk(KERN_ALERT "over hard limit!\n");
+		dump_path_counts();
 		return -1;
+	}
 	return 0;
 }
 
