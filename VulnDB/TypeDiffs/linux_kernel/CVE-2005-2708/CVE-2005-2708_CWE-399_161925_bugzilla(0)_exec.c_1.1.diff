diff -uprN linux-14520/fs/exec.c linux-14530/fs/exec.c

--- linux-14520/fs/exec.c       2005-06-28 15:01:59.000000000 +0100

+++ linux-14530/fs/exec.c       2005-06-28 15:04:30.000000000 +0100

@@ -1064,7 +1064,8 @@ int search_binary_handler(struct linux_b

                            printable(bprm->buf[3]))

                                break; /* -ENOEXEC */

                        sprintf(modname, "binfmt-%04x", *(unsigned short *)(&bprm->buf[2]));

-                       request_module(modname);

+                       if (!retval)

+                               request_module(modname);

 #endif

                }

        }

