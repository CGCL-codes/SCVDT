diff --git a/util/decompile.c b/util/decompile.c
index 5f52d76..a85a5ee 100644
--- a/util/decompile.c
+++ b/util/decompile.c
@@ -626,6 +626,14 @@ stackswap()
 #endif
 	struct SWF_ACTIONPUSHPARAM *p = peek();		/* peek() includes error handling */
 	char type = Stack->type;
+
+        if (Stack->next == NULL) {
+#if DEBUG
+		SWF_warn("stackswap: can't swap (stack contains only one element)\n");
+#endif
+                return;
+        }
+
 	Stack->type = Stack->next->type;
 	Stack->val  = Stack->next->val;
 	Stack->next->type = type;
