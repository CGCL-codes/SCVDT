diff -ruNp libpng-1.2.12.orig/pngset.c libpng-1.2.12/pngset.c
--- libpng-1.2.12.orig/pngset.c	2006-06-27 21:22:34.000000000 +0100
+++ libpng-1.2.12/pngset.c	2006-11-07 17:04:05.723871824 +0000
@@ -976,10 +976,10 @@ png_set_sPLT(png_structp png_ptr,
         /* TODO: use png_malloc_warn */
         png_strcpy(to->name, from->name);
         to->entries = (png_sPLT_entryp)png_malloc(png_ptr,
-            from->nentries * png_sizeof(png_sPLT_t));
+            from->nentries * png_sizeof(png_sPLT_entry));
         /* TODO: use png_malloc_warn */
         png_memcpy(to->entries, from->entries,
-            from->nentries * png_sizeof(png_sPLT_t));
+            from->nentries * png_sizeof(png_sPLT_entry));
         to->nentries = from->nentries;
         to->depth = from->depth;
     }