diff --git a/bfd/dwarf2.c b/bfd/dwarf2.c
index 856c963985c..d1cf1aa71fc 100644
--- a/bfd/dwarf2.c
+++ b/bfd/dwarf2.c
@@ -3210,7 +3210,8 @@ scan_unit_for_symbols (struct comp_unit *unit)
 		    case DW_FORM_block2:
 		    case DW_FORM_block4:
 		    case DW_FORM_exprloc:
-		      if (*attr.u.blk->data == DW_OP_addr)
+		      if (attr.u.blk->data != NULL
+			  && *attr.u.blk->data == DW_OP_addr)
 			{
 			  var->stack = 0;
 
-- 
2.27.0

