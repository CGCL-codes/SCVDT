diff --git a/libavcodec/indeo5.c b/libavcodec/indeo5.c
index 45460a40fd..bdb53cad12 100644
--- a/libavcodec/indeo5.c
+++ b/libavcodec/indeo5.c
@@ -798,6 +798,7 @@ static int decode_frame(AVCodecContext *avctx, void *data, int *data_size,
         avctx->release_buffer(avctx, &ctx->frame);
 
     ctx->frame.reference = 0;
+    avcodec_set_dimensions(avctx, ctx->planes[0].width, ctx->planes[0].height);
     if (avctx->get_buffer(avctx, &ctx->frame) < 0) {
         av_log(avctx, AV_LOG_ERROR, "get_buffer() failed\n");
         return -1;
