diff --git a/libavcodec/vp3.c b/libavcodec/vp3.c
index 792dbb2a61d..00a77e9e782 100644
--- a/libavcodec/vp3.c
+++ b/libavcodec/vp3.c
@@ -1928,11 +1928,11 @@ static int vp3_decode_frame(AVCodecContext *avctx,
         int type = get_bits(&gb, 7);
         skip_bits_long(&gb, 6*8); /* "theora" */
 
+        if (s->avctx->active_thread_type&FF_THREAD_FRAME) {
+            av_log(avctx, AV_LOG_ERROR, "midstream reconfiguration with multithreading is unsupported, try -threads 1\n");
+            return AVERROR_PATCHWELCOME;
+        }
         if (type == 0) {
-            if (s->avctx->active_thread_type&FF_THREAD_FRAME) {
-                av_log(avctx, AV_LOG_ERROR, "midstream reconfiguration with multithreading is unsupported, try -threads 1\n");
-                return AVERROR_PATCHWELCOME;
-            }
             vp3_decode_end(avctx);
             ret = theora_decode_header(avctx, &gb);
 
