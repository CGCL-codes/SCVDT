diff --git a/libavutil/log.c b/libavutil/log.c
index f29345b97af..15ff5f86bc0 100644
--- a/libavutil/log.c
+++ b/libavutil/log.c
@@ -180,7 +180,7 @@ static void format_line(void *ptr, int level, const char *fmt, va_list vl,
             if (parent && *parent) {
                 snprintf(part[0], part_size, "[%s @ %p] ",
                          (*parent)->item_name(parent), parent);
-                if(type) type[0] = get_category(((uint8_t *) ptr) + avc->parent_log_context_offset);
+                if(type) type[0] = get_category(parent);
             }
         }
         snprintf(part[1], part_size, "[%s @ %p] ",
