diff --git a/libavcodec/gifdec.c b/libavcodec/gifdec.c
index e5e84aea126..a916dfe8e71 100644
--- a/libavcodec/gifdec.c
+++ b/libavcodec/gifdec.c
@@ -118,7 +118,7 @@ static void gif_copy_img_rect(const uint32_t *src, uint32_t *dst,
     const uint32_t *src_px, *src_pr,
                    *src_py = src + y_start,
                    *dst_py = dst + y_start;
-    const uint32_t *src_pb = src_py + t * linesize;
+    const uint32_t *src_pb = src_py + h * linesize;
     uint32_t *dst_px;
 
     for (; src_py < src_pb; src_py += linesize, dst_py += linesize) {
