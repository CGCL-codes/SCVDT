diff --git a/src/libjasper/base/jas_image.c b/src/libjasper/base/jas_image.c
index 7099e98..d3277e4 100644
--- a/src/libjasper/base/jas_image.c
+++ b/src/libjasper/base/jas_image.c
@@ -1440,6 +1440,12 @@ jas_eprintf("IMAGE\n");
 jas_image_dump(image, stderr);
 #endif
 
+	if (image->numcmpts_ == 0)
+		/* can't work with a file with no components;
+		   continuing would crash because we'd attempt to
+		   obtain information about the first component */
+		return NULL;
+
 	outimage = 0;
 	xform = 0;
 	if (!(inimage = jas_image_copy(image)))
