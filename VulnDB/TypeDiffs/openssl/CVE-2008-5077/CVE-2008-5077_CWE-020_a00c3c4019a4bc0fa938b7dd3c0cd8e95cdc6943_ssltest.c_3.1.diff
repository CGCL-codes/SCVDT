diff --git a/ssl/ssltest.c b/ssl/ssltest.c
index 82086d1718..b09c542087 100644
--- a/ssl/ssltest.c
+++ b/ssl/ssltest.c
@@ -2093,7 +2093,7 @@ static int MS_CALLBACK app_verify_callback(X509_STORE_CTX *ctx, void *arg)
 
 	if (cb_arg->proxy_auth)
 		{
-		if (ok)
+		if (ok > 0)
 			{
 			const char *cond_end = NULL;
 
