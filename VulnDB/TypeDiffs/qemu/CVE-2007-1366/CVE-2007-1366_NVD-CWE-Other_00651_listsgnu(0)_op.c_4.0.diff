Index: op.c
===================================================================
RCS file: /cvsroot/qemu/qemu/target-i386/op.c,v
retrieving revision 1.47
diff -u -r1.47 op.c
--- op.c        1 Feb 2007 22:11:07 -0000       1.47
+++ op.c        29 Apr 2007 15:54:47 -0000
@@ -1004,6 +1004,9 @@
 {
     int base = PARAM1;
     int al, ah;
+    if (!base) {
+        raise_exception(EXCP00_DIVZ);
+    }
     al = EAX & 0xff;
     ah = al / base;
     al = al % base;

--
vale