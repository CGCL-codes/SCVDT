diff --git a/qemu-nbd.c b/qemu-nbd.c
index 27a4e3a..5410854 100644
--- a/qemu-nbd.c
+++ b/qemu-nbd.c
@@ -322,7 +322,7 @@ out:

 static int nbd_can_accept(void)
 {
-    return nb_fds < shared;
+    return state == RUNNING && nb_fds < shared;
 }

 static void nbd_export_closed(NBDExport *exp)
-- 
2.9.4



