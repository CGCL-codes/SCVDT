Index: epan/dissectors/packet-zbee-zcl.c

===================================================================

--- epan/dissectors/packet-zbee-zcl.c	(revision 34529)

+++ epan/dissectors/packet-zbee-zcl.c	(working copy)

@@ -777,8 +777,8 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 0, "Status Record");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
         }
+        i++;
 
         /* Dissect the attribute identifier */
         dissect_zcl_attr_id(tvb, sub_tree, offset);
@@ -824,8 +824,9 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 0, "Attribute Field");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
         }
+        i++;
+
         /* Dissect the attribute identifier */
         dissect_zcl_attr_id(tvb, sub_tree, offset);
 
@@ -865,8 +866,8 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 0, "Status Record");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
         }
+        i++;
 
         /* Dissect the status */
         if ( dissect_zcl_attr_uint8(tvb, sub_tree, offset, &hf_zbee_zcl_attr_status) !=
@@ -911,8 +912,9 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 3, "Reporting Configuration Record");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
         }
+        i++;
+
         /* Dissect the status */
         attr_status = dissect_zcl_attr_uint8(tvb, sub_tree, offset, &hf_zbee_zcl_attr_status);
 
@@ -978,8 +980,8 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 3, "Reporting Configuration Record");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
         }
+        i++;
 
         /* Dissect the direction and any reported configuration */
         if ( dissect_zcl_attr_uint8(tvb, sub_tree, offset, &hf_zbee_zcl_attr_dir)
@@ -1044,8 +1046,8 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 3, "Attribute Status Record");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
         }
+        i++;
 
         /* Dissect the status */
         if ( dissect_zcl_attr_uint8(tvb, sub_tree, offset, &hf_zbee_zcl_attr_status) !=
@@ -1091,8 +1093,8 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 3, "Attribute Status Record");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
         }
+        i++;
 
         /* Dissect the direction */
         dissect_zcl_attr_uint8(tvb, sub_tree, offset, &hf_zbee_zcl_attr_dir);
@@ -1195,14 +1197,14 @@

             /* Create subtree for attribute status field */
             ti = proto_tree_add_text(tree, tvb, *offset, 3, "Attribute Status Record");
             sub_tree = proto_item_add_subtree(ti, ett_zbee_zcl_attr[i]);
-            i++;
+        }
+        i++;
 
-            /* Dissect the attribute identifier */
-            dissect_zcl_attr_id(tvb, sub_tree, offset);
+        /* Dissect the attribute identifier */
+        dissect_zcl_attr_id(tvb, sub_tree, offset);
 
-            /* Dissect the number of maximum attribute identifiers */
-            dissect_zcl_attr_uint8(tvb, sub_tree, offset, &hf_zbee_zcl_attr_data_type);
-        }
+        /* Dissect the number of maximum attribute identifiers */
+        dissect_zcl_attr_uint8(tvb, sub_tree, offset, &hf_zbee_zcl_attr_data_type);
     }
 
     return;
