--- trunk/Source/core/dom/ContainerNode.cpp	2015/08/06 05:39:32	200097
+++ trunk/Source/core/dom/ContainerNode.cpp	2015/08/06 06:10:13	200098
@@ -620,15 +620,18 @@
     ASSERT(oldChild.parentNode() == this);
     ASSERT(!oldChild.isDocumentFragment());
 
-    Node* prev = oldChild.previousSibling();
-    Node* next = oldChild.nextSibling();
-
+    // This may cause arbitrary Javascript execution via onunload handlers.
     if (oldChild.connectedSubframeCount())
         ChildFrameDisconnector(oldChild).disconnect();
 
+    if (oldChild.parentNode() != this)
+        return;
+
     ChildListMutationScope(*this).willRemoveChild(oldChild);
     oldChild.notifyMutationObserversNodeWillDetach();
 
+    Node* prev = oldChild.previousSibling();
+    Node* next = oldChild.nextSibling();
     removeBetween(prev, next, oldChild);
 
     notifyNodeRemoved(oldChild);
