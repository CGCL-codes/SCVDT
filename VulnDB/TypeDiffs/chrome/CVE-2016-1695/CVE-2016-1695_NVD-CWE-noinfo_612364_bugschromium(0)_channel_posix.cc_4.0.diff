diff --git a/mojo/edk/system/channel_posix.cc b/mojo/edk/system/channel_posix.cc
index 72c559b..b4979f8 100644
--- a/mojo/edk/system/channel_posix.cc
+++ b/mojo/edk/system/channel_posix.cc
@@ -271,6 +271,24 @@ class ChannelPosix : public Channel,
           buffer_capacity,
           &incoming_platform_handles_);
 
+      // replace buffer with bad data.
+      Message::Header* header = reinterpret_cast<Message::Header*>(buffer);
+      header->message_type = Message::Header::MessageType::NORMAL;
+      header->num_handles = 0;
+      header->num_header_bytes = sizeof(Message::Header);
+
+      struct NodeChannelHeader {
+        uint32_t type;
+        uint32_t padding;
+      };
+
+      NodeChannelHeader* channel_header = reinterpret_cast<NodeChannelHeader*>(header + 1);
+      channel_header->type = 5;  // PORTS_MESSAGE
+
+      // leave 1 byte to get past payload_size <= sizeof(Header) check.
+      header->num_bytes = header->num_header_bytes + sizeof(NodeChannelHeader) + 1;
+      read_result = header->num_bytes;
+
       if (read_result > 0) {
         bytes_read = static_cast<size_t>(read_result);
         total_bytes_read += bytes_read;
