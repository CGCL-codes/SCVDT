Index: libxslt/pattern.c
===================================================================
--- libxslt/pattern.c	(revision 117989)
+++ libxslt/pattern.c	(working copy)
@@ -1864,6 +1864,8 @@
 		while ((pattern[end] != 0) && (pattern[end] != '"'))
 		    end++;
 	    }
+      if (pattern[end] == 0)
+          break;
 	    end++;
 	}
 	if (current == end) {
