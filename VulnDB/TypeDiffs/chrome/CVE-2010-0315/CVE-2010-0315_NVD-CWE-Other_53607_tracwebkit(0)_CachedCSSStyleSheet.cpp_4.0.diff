Index: /trunk/WebCore/loader/CachedCSSStyleSheet.cpp

===================================================================

--- /trunk/WebCore/loader/CachedCSSStyleSheet.cpp	(revision 53606)

+++ /trunk/WebCore/loader/CachedCSSStyleSheet.cpp	(revision 53607)

@@ -53,7 +53,7 @@

 {

     if (!m_loading)

-        c->setCSSStyleSheet(m_url, m_decoder->encoding().name(), this);

+        c->setCSSStyleSheet(m_url, m_response.url(), m_decoder->encoding().name(), this);

 }

-    

+

 void CachedCSSStyleSheet::allClientsRemoved()

 {

@@ -113,5 +113,5 @@

     CachedResourceClientWalker w(m_clients);

     while (CachedResourceClient *c = w.next())

-        c->setCSSStyleSheet(m_response.url().string(), m_decoder->encoding().name(), this);

+        c->setCSSStyleSheet(m_url, m_response.url(), m_decoder->encoding().name(), this);

 }

 

