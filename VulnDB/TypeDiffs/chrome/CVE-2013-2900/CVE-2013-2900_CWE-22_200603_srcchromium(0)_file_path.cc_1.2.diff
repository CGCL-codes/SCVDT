--- trunk/src/base/files/file_path.cc	2013/05/16 19:21:32	200602
+++ trunk/src/base/files/file_path.cc	2013/05/16 19:29:39	200603
@@ -553,8 +553,15 @@
   std::vector<StringType>::const_iterator it = components.begin();
   for (; it != components.end(); ++it) {
     const StringType& component = *it;
-    if (component == kParentDirectory)
+    // Windows has odd, undocumented behavior with path components containing
+    // only whitespace and . characters. So, if all we see is . and
+    // whitespace, then we treat any .. sequence as referencing parent.
+    // For simplicity we enforce this on all platforms.
+    if (component.find_first_not_of(FILE_PATH_LITERAL(". \n\r\t")) ==
+            std::string::npos &&
+        component.find(kParentDirectory) != std::string::npos) {
       return true;
+    }
   }
   return false;
 }
