diff --git a/Source/core/html/HTMLInputElement.cpp b/Source/core/html/HTMLInputElement.cpp
index 2385f43..7fe7b74 100644
--- a/Source/core/html/HTMLInputElement.cpp
+++ b/Source/core/html/HTMLInputElement.cpp
@@ -444,6 +444,8 @@
     m_inputType->warnIfValueIsInvalid(fastGetAttribute(valueAttr).string());
 
     m_inputTypeView->updateView();
+    setTextAsOfLastFormControlChangeEvent(value());
+    setChangedSinceLastFormControlChangeEvent(false);
 }
 
 void HTMLInputElement::updateType()
@@ -508,6 +510,7 @@
     if (document().focusedElement() == this)
         document().updateFocusAppearanceSoon(true /* restore selection */);
 
+    setTextAsOfLastFormControlChangeEvent(value());
     setChangedSinceLastFormControlChangeEvent(false);
 
     addToRadioButtonGroup();
