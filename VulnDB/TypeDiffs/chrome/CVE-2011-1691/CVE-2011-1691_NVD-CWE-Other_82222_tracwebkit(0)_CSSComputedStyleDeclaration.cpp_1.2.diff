Index: /trunk/Source/WebCore/css/CSSComputedStyleDeclaration.cpp

===================================================================

--- /trunk/Source/WebCore/css/CSSComputedStyleDeclaration.cpp	(revision 82221)

+++ /trunk/Source/WebCore/css/CSSComputedStyleDeclaration.cpp	(revision 82222)

@@ -771,6 +771,9 @@

 static PassRefPtr<CSSValue> counterToCSSValue(const RenderStyle* style, int propertyID, CSSPrimitiveValueCache* primitiveValueCache)

 {

+    const CounterDirectiveMap* map = style->counterDirectives();

+    if (!map)

+        return 0;

+

     RefPtr<CSSValueList> list = CSSValueList::createSpaceSeparated();

-    const CounterDirectiveMap* map = style->counterDirectives();

     for (CounterDirectiveMap::const_iterator it = map->begin(); it != map->end(); ++it) {

         list->append(primitiveValueCache->createValue(it->first.get(), CSSPrimitiveValue::CSS_STRING));

