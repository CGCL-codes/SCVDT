Index: Source/WebCore/css/CSSComputedStyleDeclaration.cpp
===================================================================
--- Source/WebCore/css/CSSComputedStyleDeclaration.cpp	(revision 81975)
+++ Source/WebCore/css/CSSComputedStyleDeclaration.cpp	(working copy)
@@ -770,8 +770,11 @@ static PassRefPtr<CSSValue> contentToCSS
 
 static PassRefPtr<CSSValue> counterToCSSValue(const RenderStyle* style, int propertyID, CSSPrimitiveValueCache* primitiveValueCache)
 {
-    RefPtr<CSSValueList> list = CSSValueList::createSpaceSeparated();
     const CounterDirectiveMap* map = style->counterDirectives();
+    if (!map)
+        return NULL;
+
+    RefPtr<CSSValueList> list = CSSValueList::createSpaceSeparated();
     for (CounterDirectiveMap::const_iterator it = map->begin(); it != map->end(); ++it) {
         list->append(primitiveValueCache->createValue(it->first.get(), CSSPrimitiveValue::CSS_STRING));
         short number = propertyID == CSSPropertyCounterIncrement ? it->second.m_incrementValue : it->second.m_resetValue;
