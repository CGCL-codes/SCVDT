Index: Source/core/svg/animation/SMILTimeContainer.cpp
diff --git a/Source/core/svg/animation/SMILTimeContainer.cpp b/Source/core/svg/animation/SMILTimeContainer.cpp
index 802a94cb39fb691813fa783f197a861ce5b1a8a6..ac539ec605102c573b5741de38bf1ad5fc931c07 100644
--- a/Source/core/svg/animation/SMILTimeContainer.cpp
+++ b/Source/core/svg/animation/SMILTimeContainer.cpp
@@ -448,6 +448,10 @@ SMILTime SMILTimeContainer::updateAnimations(SMILTime elapsed, bool seekToTime)
 {
     SMILTime earliestFireTime = SMILTime::unresolved();
 
+    // FIXME(crbug.com/478549): Force update use shadow trees before iterating m_scheduledAnimations, as shadow tree instantiation may modify m_scheduledAnimations.
+    if (!m_scheduledAnimations.isEmpty())
+        document().updateRenderTreeIfNeeded();
+
 #if ENABLE(ASSERT)
     // This boolean will catch any attempts to schedule/unschedule scheduledAnimations during this critical section.
     // Similarly, any elements removed will unschedule themselves, so this will catch modification of animationsToApply.
