Index: HTMLMediaElement.cpp
===================================================================
--- HTMLMediaElement.cpp	(revision 135622)
+++ HTMLMediaElement.cpp	(working copy)
@@ -317,6 +317,8 @@
         m_mediaController->removeMediaElement(this);
 
     removeElementFromDocumentMap(this, document());
+    if (m_mediaSource)
+        m_mediaSource->setMediaPlayer(0);
 }
 
 void HTMLMediaElement::didMoveToNewDocument(Document* oldDocument)
@@ -3752,6 +3754,8 @@
 void HTMLMediaElement::clearMediaPlayer(int flags)
 {
 #if !ENABLE(PLUGIN_PROXY_FOR_VIDEO)
+    if (m_mediaSource)
+        m_mediaSource->setMediaPlayer(0);
     m_player.clear();
 #endif
     stopPeriodicTimers();