Index: third_party/WebKit/Source/WebKit/chromium/src/FrameLoaderClientImpl.cpp
===================================================================
--- third_party/WebKit/Source/WebKit/chromium/src/FrameLoaderClientImpl.cpp	(revision 123007)
+++ third_party/WebKit/Source/WebKit/chromium/src/FrameLoaderClientImpl.cpp	(working copy)
@@ -133,12 +133,16 @@
 
 void FrameLoaderClientImpl::dispatchDidClearWindowObjectInWorld(DOMWrapperWorld*)
 {
+    // Don't let the plugin widget outlive the rest of the page.
+    m_pluginWidget = 0;
     if (m_webFrame->client())
         m_webFrame->client()->didClearWindowObject(m_webFrame);
 }
 
 void FrameLoaderClientImpl::documentElementAvailable()
 {
+    // Verify that the plugin widget didn't outlive the rest of the page.
+    ASSERT(!m_pluginWidget);
     if (m_webFrame->client())
         m_webFrame->client()->didCreateDocumentElement(m_webFrame);
 }