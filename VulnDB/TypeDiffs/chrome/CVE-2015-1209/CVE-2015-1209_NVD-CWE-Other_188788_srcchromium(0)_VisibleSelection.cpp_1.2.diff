--- trunk/Source/core/editing/VisibleSelection.cpp	2015/01/22 03:52:38	188787
+++ trunk/Source/core/editing/VisibleSelection.cpp	2015/01/22 04:38:42	188788
@@ -752,7 +752,7 @@
 
 Node* VisibleSelection::nonBoundaryShadowTreeRootNode() const
 {
-    return start().deprecatedNode() ? start().deprecatedNode()->nonBoundaryShadowTreeRootNode() : 0;
+    return start().deprecatedNode() && !start().deprecatedNode()->isShadowRoot() ? start().deprecatedNode()->nonBoundaryShadowTreeRootNode() : 0;
 }
 
 VisibleSelection::ChangeObserver::ChangeObserver()
