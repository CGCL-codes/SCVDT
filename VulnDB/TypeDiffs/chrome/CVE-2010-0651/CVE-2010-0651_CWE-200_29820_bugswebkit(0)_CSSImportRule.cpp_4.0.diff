Index: WebCore/css/CSSImportRule.cpp
===================================================================
--- WebCore/css/CSSImportRule.cpp	(revision 50101)
+++ WebCore/css/CSSImportRule.cpp	(working copy)
@@ -26,6 +26,7 @@
 #include "DocLoader.h"
 #include "Document.h"
 #include "MediaList.h"
+#include "SecurityOrigin.h"
 #include "Settings.h"
 #include <wtf/StdLibExtras.h>
 
@@ -61,11 +62,18 @@
     m_styleSheet = CSSStyleSheet::create(this, url, charset);
 
     CSSStyleSheet* parent = parentStyleSheet();
-    bool strict = !parent || parent->useStrictParsing();
-    String sheetText = sheet->sheetText(strict);
-    m_styleSheet->parseString(sheetText, strict);
+    bool enforceMIMEType = !parent || parent->useStrictParsing();
+    bool crossDomainCSS = false;
+    bool validMIMEType = false;
+    if (!parent->doc() || !parent->doc()->securityOrigin()->canRequest(KURL(ParsedURLString, url)))
+        crossDomainCSS = true;
 
-    if (strict && parent && parent->doc() && parent->doc()->settings() && parent->doc()->settings()->needsSiteSpecificQuirks()) {
+    String sheetText = sheet->sheetText(enforceMIMEType, &validMIMEType);
+    m_styleSheet->parseString(sheetText, enforceMIMEType);
+    if (crossDomainCSS && !validMIMEType && !m_styleSheet->hasGoodCSSHeader())
+        m_styleSheet = CSSStyleSheet::create(this, url, charset);
+
+    if (enforceMIMEType && parent && parent->doc() && parent->doc()->settings() && parent->doc()->settings()->needsSiteSpecificQuirks()) {
         // Work around <https://bugs.webkit.org/show_bug.cgi?id=28350>.
         DEFINE_STATIC_LOCAL(const String, slashKHTMLFixesDotCss, ("/KHTMLFixes.css"));
         DEFINE_STATIC_LOCAL(const String, mediaWikiKHTMLFixesStyleSheet, ("/* KHTML fix stylesheet */\n/* work around the horizontal scrollbars */\n#column-content { margin-left: 0; }\n\n"));
