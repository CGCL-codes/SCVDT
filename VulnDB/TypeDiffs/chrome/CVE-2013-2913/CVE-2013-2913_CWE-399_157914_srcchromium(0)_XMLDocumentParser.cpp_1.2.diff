--- trunk/Source/core/xml/parser/XMLDocumentParser.cpp	2013/09/17 19:40:54	157913
+++ trunk/Source/core/xml/parser/XMLDocumentParser.cpp	2013/09/17 19:49:17	157914
@@ -350,6 +350,10 @@
         return;
     }
 
+    // JavaScript can detach the parser. Make sure this is not released
+    // before the end of this method.
+    RefPtr<XMLDocumentParser> protect(this);
+
     doWrite(source.toString());
 
     if (isStopped())
