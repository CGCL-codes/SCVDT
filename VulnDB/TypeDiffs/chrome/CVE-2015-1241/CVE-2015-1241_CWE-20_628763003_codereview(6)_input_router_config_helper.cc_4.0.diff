Index: content/browser/renderer_host/input/input_router_config_helper.cc
diff --git a/content/browser/renderer_host/input/input_router_config_helper.cc b/content/browser/renderer_host/input/input_router_config_helper.cc
index 1956fe65107ba5ff43a8323a03391566bd632753..ede42f31735ea52360e8f3bf18711fa95c6dec6a 100644
--- a/content/browser/renderer_host/input/input_router_config_helper.cc
+++ b/content/browser/renderer_host/input/input_router_config_helper.cc
@@ -5,6 +5,7 @@
 #include "content/browser/renderer_host/input/input_router_config_helper.h"
 
 #include "base/command_line.h"
+#include "base/logging.h"
 #include "content/public/common/content_switches.h"
 #include "ui/events/gesture_detection/gesture_detector.h"
 
@@ -123,6 +124,14 @@ TouchEventQueue::TouchScrollingMode GetTouchScrollingMode() {
   return TouchEventQueue::TOUCH_SCROLLING_MODE_DEFAULT;
 }
 
+bool GetValidateEventStream() {
+#if defined(DCHECK_IS_ON)
+  return base::CommandLine::ForCurrentProcess()->HasSwitch(
+      switches::kValidateInputEventStream);
+#endif
+  return false;
+}
+
 }  // namespace
 
 InputRouterImpl::Config GetInputRouterConfigForPlatform() {
@@ -130,6 +139,7 @@ InputRouterImpl::Config GetInputRouterConfigForPlatform() {
   config.gesture_config = GetGestureEventQueueConfig();
   config.touch_config = GetTouchEventQueueConfig();
   config.touch_config.touch_scrolling_mode = GetTouchScrollingMode();
+  config.validate_event_stream = GetValidateEventStream();
   return config;
 }
 
