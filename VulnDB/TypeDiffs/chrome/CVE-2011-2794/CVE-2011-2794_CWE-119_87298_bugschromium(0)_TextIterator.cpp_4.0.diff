Index: WebCore/editing/TextIterator.cpp
===================================================================
--- WebCore/editing/TextIterator.cpp	(revision 89499)
+++ WebCore/editing/TextIterator.cpp	(working copy)
@@ -975,6 +975,9 @@
     RenderText* renderer = toRenderText(renderObject);
     m_text = m_emitsTextWithoutTranscoding ? renderer->textWithoutTranscoding() : renderer->text();
     ASSERT(m_text.characters());
+    ASSERT(0 <= textStartOffset && textStartOffset < m_text.length());
+    ASSERT(0 <= textEndOffset && textEndOffset <= m_text.length());
+    ASSERT(textStartOffset <= textEndOffset);
 
     m_positionNode = textNode;
     m_positionOffsetBaseNode = 0;