--- trunk/src/content/browser/renderer_host/websocket_dispatcher_host.cc	2014/01/29 05:22:09	247626
+++ trunk/src/content/browser/renderer_host/websocket_dispatcher_host.cc	2014/01/29 05:22:37	247627
@@ -83,10 +83,13 @@
 }
 
 WebSocketHostState WebSocketDispatcherHost::SendOrDrop(IPC::Message* message) {
+  const uint32 message_type = message->type();
+  const int32 message_routing_id = message->routing_id();
   if (!Send(message)) {
-    DVLOG(1) << "Sending of message type " << message->type()
+    message = NULL;
+    DVLOG(1) << "Sending of message type " << message_type
              << " failed. Dropping channel.";
-    DeleteWebSocketHost(message->routing_id());
+    DeleteWebSocketHost(message_routing_id);
     return WEBSOCKET_HOST_DELETED;
   }
   return WEBSOCKET_HOST_ALIVE;
