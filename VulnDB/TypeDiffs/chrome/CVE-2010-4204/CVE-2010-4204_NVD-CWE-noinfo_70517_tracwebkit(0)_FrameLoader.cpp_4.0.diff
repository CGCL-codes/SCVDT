Index: /trunk/WebCore/loader/FrameLoader.cpp

===================================================================

--- /trunk/WebCore/loader/FrameLoader.cpp	(revision 70516)

+++ /trunk/WebCore/loader/FrameLoader.cpp	(revision 70517)

@@ -1436,4 +1436,7 @@

 void FrameLoader::loadWithDocumentLoader(DocumentLoader* loader, FrameLoadType type, PassRefPtr<FormState> prpFormState)

 {

+    // Retain because dispatchBeforeLoadEvent may release the last reference to it.

+    RefPtr<Frame> protect(m_frame);

+

     ASSERT(m_client->hasWebView());

 

