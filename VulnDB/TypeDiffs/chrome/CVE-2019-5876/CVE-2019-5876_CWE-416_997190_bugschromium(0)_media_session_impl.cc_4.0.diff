diff --git a/content/browser/media/session/media_session_impl.cc b/content/browser/media/session/media_session_impl.cc
index 4cd4b5ea357f..0950ed062e61 100644
--- a/content/browser/media/session/media_session_impl.cc
+++ b/content/browser/media/session/media_session_impl.cc
@@ -363,9 +363,9 @@ void MediaSessionImpl::RemovePlayer(MediaSessionPlayerObserver* observer,
     normal_players_.erase(iter);
 
   auto it = pepper_players_.find(identifier);
-  if (it != pepper_players_.end())
+  if (it != pepper_players_.end()) {
     pepper_players_.erase(it);
-
+  }
   it = one_shot_players_.find(identifier);
   if (it != one_shot_players_.end())
     one_shot_players_.erase(it);
@@ -657,6 +657,14 @@ bool MediaSessionImpl::HasPepper() const {
   return !pepper_players_.empty();
 }
 
+bool MediaSessionImpl::HasController(MediaSessionPlayerObserver* controller) const {
+  for (auto it = pepper_players_.begin(); it != pepper_players_.end();) {
+    if (it->observer == controller)
+      return true;
+  }  
+  return false;
+}
+
 void MediaSessionImpl::SetDelegateForTests(
     std::unique_ptr<AudioFocusDelegate> delegate) {
   delegate_ = std::move(delegate);
@@ -1062,7 +1070,6 @@ bool MediaSessionImpl::AddPepperPlayer(MediaSessionPlayerObserver* observer,
   AudioFocusDelegate::AudioFocusResult result =
       RequestSystemAudioFocus(AudioFocusType::kGain);
   DCHECK_NE(AudioFocusDelegate::AudioFocusResult::kFailed, result);
-
   pepper_players_.insert(PlayerIdentifier(observer, player_id));
 
   observer->OnSetVolumeMultiplier(player_id, GetVolumeMultiplier());
@@ -1070,7 +1077,7 @@ bool MediaSessionImpl::AddPepperPlayer(MediaSessionPlayerObserver* observer,
   UpdateRoutedService();
   RebuildAndNotifyMediaSessionInfoChanged();
   RebuildAndNotifyMediaPositionChanged();
-
+  
   return result != AudioFocusDelegate::AudioFocusResult::kFailed;
 }
 
