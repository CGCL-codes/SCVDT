diff --git a/Source/core/html/shadow/DateTimeEditElement.cpp b/Source/core/html/shadow/DateTimeEditElement.cpp
index 909402c..b588341 100644
--- a/Source/core/html/shadow/DateTimeEditElement.cpp
+++ b/Source/core/html/shadow/DateTimeEditElement.cpp
@@ -443,6 +443,7 @@ DateTimeEditElement::EditControlOwner::~EditControlOwner()
 DateTimeEditElement::DateTimeEditElement(Document& document, EditControlOwner& editControlOwner)
     : HTMLDivElement(divTag, document)
     , m_editControlOwner(&editControlOwner)
+    , m_inLayout(false)
 {
     setHasCustomStyleCallbacks();
 }
@@ -650,6 +651,8 @@ bool DateTimeEditElement::isReadOnly() const
 
 void DateTimeEditElement::layout(const LayoutParameters& layoutParameters, const DateComponents& dateValue)
 {
+    ASSERT(!m_inLayout);
+    m_inLayout = true;
     DEFINE_STATIC_LOCAL(AtomicString, fieldsWrapperPseudoId, ("-webkit-datetime-edit-fields-wrapper", AtomicString::ConstructFromLiteral));
     if (!firstChild()) {
         RefPtr<HTMLDivElement> element = HTMLDivElement::create(document());
@@ -688,6 +691,7 @@ void DateTimeEditElement::layout(const LayoutParameters& layoutParameters, const
         }
         setNeedsStyleRecalc();
     }
+    m_inLayout = false;
 }
 
 AtomicString DateTimeEditElement::localeIdentifier() const
