--- trunk/src/content/child/web_database_observer_impl.cc	2013/11/06 21:11:18	233366
+++ trunk/src/content/child/web_database_observer_impl.cc	2013/11/06 21:11:42	233367
@@ -13,6 +13,7 @@
 #include "third_party/sqlite/sqlite3.h"
 
 using WebKit::WebDatabase;
+using WebKit::WebString;
 
 namespace content {
 namespace {
@@ -89,6 +90,14 @@
       database.securityOrigin().databaseIdentifier().utf8(), database.name()));
 }
 
+void WebDatabaseObserverImpl::databaseClosed(const WebString& origin_identifier,
+                                             const WebString& database_name) {
+  sender_->Send(new DatabaseHostMsg_Closed(
+      origin_identifier.utf8(), database_name));
+  open_connections_->RemoveOpenConnection(origin_identifier.utf8(),
+                                          database_name);
+}
+
 void WebDatabaseObserverImpl::databaseClosed(
     const WebDatabase& database) {
   std::string origin_identifier =
