--- trunk/Source/core/editing/CompositeEditCommand.cpp	2013/11/08 10:05:27	161597
+++ trunk/Source/core/editing/CompositeEditCommand.cpp	2013/11/08 10:06:18	161598
@@ -998,6 +998,11 @@
         }
     }
 
+    // Scripts specified in javascript protocol may remove |outerNode|
+    // during insertion, e.g. <iframe src="javascript:...">
+    if (!outerNode->inDocument())
+        return;
+
     // Handle the case of paragraphs with more than one node,
     // cloning all the siblings until end.deprecatedNode() is reached.
 
