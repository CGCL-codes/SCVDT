--- branches/chromium/1650/Source/core/dom/ContainerNode.cpp	2013/10/21 01:15:06	160036
+++ branches/chromium/1650/Source/core/dom/ContainerNode.cpp	2013/10/21 01:33:56	160037
@@ -421,8 +421,6 @@
     NodeVector children;
     getChildNodes(container, children);
 
-    container->document().nodeChildrenWillBeRemoved(container);
-
     ChildListMutationScope mutation(container);
     for (NodeVector::const_iterator it = children.begin(); it != children.end(); it++) {
         Node* child = it->get();
@@ -565,6 +563,8 @@
         document().removeFocusedElementOfSubtree(this, true);
     }
 
+    document().nodeChildrenWillBeRemoved(this);
+
     NodeVector removedChildren;
     {
         WidgetHierarchyUpdatesSuspensionScope suspendWidgetHierarchyUpdates;
