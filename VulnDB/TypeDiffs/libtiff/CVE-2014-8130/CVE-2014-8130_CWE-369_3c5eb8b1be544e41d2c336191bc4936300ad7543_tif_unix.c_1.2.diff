diff --git a/libtiff/tif_unix.c b/libtiff/tif_unix.c
index 8db82317..a686b11b 100644
--- a/libtiff/tif_unix.c
+++ b/libtiff/tif_unix.c
@@ -257,6 +257,9 @@ TIFFOpenW(const wchar_t* name, const char* mode)
 void*
 _TIFFmalloc(tmsize_t s)
 {
+        if (s == 0)
+                return ((void *) NULL);
+
 	return (malloc((size_t) s));
 }
 
