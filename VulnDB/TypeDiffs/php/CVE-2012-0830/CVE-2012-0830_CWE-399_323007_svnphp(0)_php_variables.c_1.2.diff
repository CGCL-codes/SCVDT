--- php/php-src/branches/PHP_5_3/main/php_variables.c	2012/02/01 19:44:38	323006
+++ php/php-src/branches/PHP_5_3/main/php_variables.c	2012/02/01 19:52:05	323007
@@ -198,6 +198,9 @@
 						MAKE_STD_ZVAL(gpc_element);
 						array_init(gpc_element);
 						zend_symtable_update(symtable1, escaped_index, index_len + 1, &gpc_element, sizeof(zval *), (void **) &gpc_element_p);
+					} else {
+						efree(var_orig);
+						return;
 					}
 				}
 				if (index != escaped_index) {
