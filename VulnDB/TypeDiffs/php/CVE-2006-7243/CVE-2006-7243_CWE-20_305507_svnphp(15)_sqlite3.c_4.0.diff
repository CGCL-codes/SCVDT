--- php/php-src/branches/PHP_5_3/ext/sqlite3/sqlite3.c	2010/11/18 14:59:28	305506
+++ php/php-src/branches/PHP_5_3/ext/sqlite3/sqlite3.c	2010/11/18 15:22:22	305507
@@ -114,6 +114,9 @@
 		zend_throw_exception(zend_exception_get_default(TSRMLS_C), "Already initialised DB Object", 0 TSRMLS_CC);
 	}
 
+	if (strlen(filename) != filename_len) {
+		return;
+	}
 	if (strncmp(filename, ":memory:", 8) != 0) {
 		if (!(fullpath = expand_filepath(filename, NULL TSRMLS_CC))) {
 			zend_throw_exception(zend_exception_get_default(TSRMLS_C), "Unable to expand filepath", 0 TSRMLS_CC);
