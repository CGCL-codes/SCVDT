ssize_t jfs_getxattr(struct dentry *dentry, const char *name, void *data,
		     size_t buf_size)
{
	int err;

	if (strncmp(name, XATTR_OS2_PREFIX, XATTR_OS2_PREFIX_LEN) == 0) {
		/*
		 * skip past "os2." prefix
		 */
		name += XATTR_OS2_PREFIX_LEN;
		/*
		 * Don't allow retrieving properly prefixed attributes
		 * by prepending them with "os2."
		 */
		if (is_known_namespace(name))
			return -EOPNOTSUPP;
	}

	err = __jfs_getxattr(dentry->d_inode, name, data, buf_size);

	return err;
}
