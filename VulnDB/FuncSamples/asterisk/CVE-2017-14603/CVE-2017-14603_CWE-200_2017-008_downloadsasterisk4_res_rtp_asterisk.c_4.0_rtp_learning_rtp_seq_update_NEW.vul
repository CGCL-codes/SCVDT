static int rtp_learning_rtp_seq_update(struct rtp_learning_info *info, uint16_t seq)
{
	/*
	 * During the learning mode the minimum amount of media we'll accept is
	 * 10ms so give a reasonable 5ms buffer just in case we get it sporadically.
	 */
	if (!ast_tvzero(info->received) && ast_tvdiff_ms(ast_tvnow(), info->received) < 5) {
		/*
		 * Reject a flood of packets as acceptable for learning.
		 * Reset the needed packets.
		 */
		info->packets = learning_min_sequential - 1;
	} else if (seq == (uint16_t) (info->max_seq + 1)) {
		/* packet is in sequence */
		info->packets--;
	} else {
		/* Sequence discontinuity; reset */
		info->packets = learning_min_sequential - 1;
	}
	info->max_seq = seq;
	info->received = ast_tvnow();

	return info->packets;
}
