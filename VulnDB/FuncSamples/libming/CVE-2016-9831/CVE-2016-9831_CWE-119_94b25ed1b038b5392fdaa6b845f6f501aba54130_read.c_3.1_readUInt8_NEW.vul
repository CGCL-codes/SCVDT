int readUInt8(FILE *f)
{
  int tmp_char = fgetc(f);
  // the rest of the code does not handle errors and use EOF as a valid unsigned char value
  if (tmp_char == EOF)
  {
    // exit here instead of crashing elswhere
    fprintf(stderr, "truncated file\n");
    exit(-1);
  }

  bufbits = 0;
  ++fileOffset;
  return tmp_char;
}
