void _read_lock(rwlock_t *lock)
{
    check_lock(&lock->debug);
    while ( unlikely(!_raw_read_trylock(&lock->raw)) )
    {
        while ( likely(_raw_rw_is_write_locked(&lock->raw)) )
            cpu_relax();
    }
    preempt_disable();
}
