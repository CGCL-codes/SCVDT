static void do_cp(struct cpu_user_regs *regs, union hsr hsr)
{
#ifndef NDEBUG
    struct hsr_cp cp = hsr.cp;
#endif

    if ( !check_conditional_instr(regs, hsr) )
    {
        advance_pc(regs, hsr);
        return;
    }

#ifndef NDEBUG
    ASSERT(!cp.tas); /* We don't trap SIMD instruction */
    gdprintk(XENLOG_ERR, "unhandled CP%d access\n", cp.coproc);
#endif
    inject_undef_exception(regs, hsr.len);
}
