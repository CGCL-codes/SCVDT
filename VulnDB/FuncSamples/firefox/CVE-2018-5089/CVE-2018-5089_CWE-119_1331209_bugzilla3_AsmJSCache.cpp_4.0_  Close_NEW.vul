  void
  Close()
  {
    AssertIsOnOwningThread();
    MOZ_ASSERT(mState == eOpened);
    MOZ_ASSERT(mResult == JS::AsmJSCache_Success);

    mState = eFinished;

    MOZ_ASSERT(mOpened);
    mOpened = false;

    FinishOnOwningThread();

    if (!mActorDestroyed) {
      Unused << Send__delete__(this, mResult);
    }
  }
