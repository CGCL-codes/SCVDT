bool
ServiceWorkerVisible(JSContext* aCx, JSObject* aObj)
{
  if (NS_IsMainThread()) {
    return Preferences::GetBool("dom.serviceWorkers.enabled", false);
  }

  return IS_INSTANCE_OF(ServiceWorkerGlobalScope, aObj);
}
