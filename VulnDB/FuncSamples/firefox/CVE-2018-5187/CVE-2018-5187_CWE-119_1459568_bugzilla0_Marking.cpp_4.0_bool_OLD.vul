template <typename T>
bool
js::GCMarker::mark(T* thing)
{
    AssertShouldMarkInZone(thing);
    TenuredCell* cell = TenuredCell::fromPointer(thing);
    MOZ_ASSERT(!IsInsideNursery(cell));

    if (!ParticipatesInCC<T>::value)
        return cell->markIfUnmarked(MarkColor::Black);

    return cell->markIfUnmarked(markColor());
}
