void
i386_cons_align (int ignore ATTRIBUTE_UNUSED)
{
  if (last_insn.kind != last_insn_directive
      && (bfd_section_flags (now_seg) & SEC_CODE))
    {
      last_insn.seg = now_seg;
      last_insn.kind = last_insn_directive;
      last_insn.name = "constant directive";
      last_insn.file = as_where (&last_insn.line);
      if (lfence_before_ret != lfence_before_ret_none)
	{
	  if (lfence_before_indirect_branch != lfence_branch_none)
	    as_warn (_("constant directive skips -mlfence-before-ret "
		       "and -mlfence-before-indirect-branch"));
	  else
	    as_warn (_("constant directive skips -mlfence-before-ret"));
	}
      else if (lfence_before_indirect_branch != lfence_branch_none)
	as_warn (_("constant directive skips -mlfence-before-indirect-branch"));
    }
}
